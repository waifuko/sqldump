Host:
```
Edition	Windows Server 2022 Datacenter
Version	21H2
Installed on	‎02.‎10.‎2025
OS build	20348.4405
```

SQL Server:
```
Microsoft SQL Server 2022 (RTM-CU21-GDR) (KB5068406) - 16.0.4222.2 (X64) 
	Oct  3 2025 16:55:17 
	Copyright (C) 2022 Microsoft Corporation
	Developer Edition (64-bit) on Windows Server 2022 Datacenter 10.0 <X64> (Build 20348: ) (Hypervisor)
```




22:41:19:629	[2025-11-28T22:41:19.6288267+03:00 Begin Query] URN:Server[@Name='SUNRISE\EXPO']/Information
22:41:19:659	[2025-11-28T22:41:19.6588910+03:00 End Query] URN:Server[@Name='SUNRISE\EXPO']/Information 

22:41:19:659	                                   Elapsed time:28,425 ms 

22:41:19:659	                                   Query: 
22:41:19:659	                                             create table #SVer(ID int,  Name  sysname, Internal_Value int, Value nvarchar(512))
22:41:19:659	                                             insert #SVer exec master.dbo.xp_msver
22:41:19:659	                                             insert #SVer select t.*
22:41:19:659	                                             from sys.dm_os_host_info
22:41:19:659	                                             CROSS APPLY (
22:41:19:659	                                             VALUES
22:41:19:659	                                             (1001, 'host_platform', 0, host_platform),
22:41:19:659	                                             (1002, 'host_distribution', 0, host_distribution),
22:41:19:659	                                             (1003, 'host_release', 0, host_release),
22:41:19:659	                                             (1004, 'host_service_pack_level', 0, host_service_pack_level),
22:41:19:659	                                             (1005, 'host_sku', host_sku, ''),
22:41:19:659	                                             (1006, 'HardwareGeneration', '', ''),
22:41:19:659	                                             (1007, 'ServiceTier', '', ''),
22:41:19:659	                                             (1008, 'ReservedStorageSizeMB', '0', '0'),
22:41:19:659	                                             (1009, 'UsedStorageSizeMB', '0', '0')
22:41:19:659	                                             ) t(id, [name], internal_value, [value])
22:41:19:659	                                             -- Managed Instance-specific properties
22:41:19:659	                                             if (SERVERPROPERTY('EngineEdition') = 8)
22:41:19:659	                                             begin
22:41:19:659	                                               DECLARE @gen4memoryPerCoreMB float = 7168.0
22:41:19:659	                                               DECLARE @gen5memoryPerCoreMB float = 5223.0
22:41:19:659	                                               DECLARE @physicalMemory float
22:41:19:659	                                               DECLARE @virtual_core_count int
22:41:19:659	                                               DECLARE @reservedStorageSize bigint
22:41:19:659	                                               DECLARE @usedStorageSize decimal(18,2)
22:41:19:659	                                               DECLARE @hwGeneration nvarchar(128)
22:41:19:659	                                               DECLARE @serviceTier nvarchar(128)
22:41:19:659	                                               SET @physicalMemory = (SELECT TOP 1 [virtual_core_count] *
22:41:19:659	                                                 (
22:41:19:659	                                                   CASE WHEN [hardware_generation] = 'Gen4' THEN @gen4memoryPerCoreMB
22:41:19:659	                                                   WHEN [hardware_generation] = 'Gen5' THEN @gen5memoryPerCoreMB
22:41:19:659	                                                   ELSE 0 END
22:41:19:659	                                                  )
22:41:19:659	                                                  FROM master.sys.server_resource_stats 
22:41:19:659	                                                  ORDER BY start_time DESC)
22:41:19:659	                                         
22:41:19:659	                                               IF (@physicalMemory <> 0) 
22:41:19:659	                                               BEGIN
22:41:19:659	                                                 UPDATE #SVer SET [Internal_Value] =  @physicalMemory WHERE Name = N'PhysicalMemory'
22:41:19:659	                                                 UPDATE #SVer SET [Value] = CONCAT( @physicalMemory, ' (',  @physicalMemory * 1024, ')') WHERE Name = N'PhysicalMemory'
22:41:19:659	                                               END
22:41:19:659	                                               UPDATE #SVer SET [Internal_Value] = (SELECT TOP 1 [virtual_core_count] FROM master.sys.server_resource_stats ORDER BY start_time desc) WHERE Name = N'ProcessorCount'
22:41:19:659	                                               UPDATE #SVer SET [Value] = [Internal_Value] WHERE Name = N'ProcessorCount'
22:41:19:659	                                               SELECT TOP 1
22:41:19:659	                                                 @hwGeneration = [hardware_generation],
22:41:19:659	                                                 @serviceTier =[sku],
22:41:19:659	                                                 @virtual_core_count = [virtual_core_count],
22:41:19:659	                                                 @reservedStorageSize = [reserved_storage_mb],
22:41:19:659	                                                 @usedStorageSize = [storage_space_used_mb]
22:41:19:659	                                               FROM master.sys.server_resource_stats
22:41:19:659	                                               ORDER BY [start_time] DESC
22:41:19:659	                                               UPDATE #SVer SET [Value] = @hwGeneration WHERE Name = N'HardwareGeneration'
22:41:19:659	                                               UPDATE #SVer SET [Value] = @serviceTier WHERE Name = N'ServiceTier'
22:41:19:659	                                               UPDATE #SVer SET [Value] = @reservedStorageSize WHERE Name = N'ReservedStorageSizeMB'
22:41:19:659	                                               UPDATE #SVer SET [Value] = @usedStorageSize WHERE Name = N'UsedStorageSizeMB'
22:41:19:659	                                             end
22:41:19:659	                                         
22:41:19:659	                                   SELECT
22:41:19:659	                                   CAST(
22:41:19:659	                                           serverproperty(N'Servername')
22:41:19:659	                                          AS sysname) AS [Server_Name],
22:41:19:659	                                   'Server[@Name=' + quotename(CAST(
22:41:19:659	                                           serverproperty(N'Servername')
22:41:19:659	                                          AS sysname),'''') + ']' AS [Server_Urn],
22:41:19:659	                                   CAST(null AS int) AS [Server_ServerType],
22:41:19:659	                                   CAST(0x0001 AS int) AS [Server_Status],
22:41:19:659	                                   0 AS [Server_IsContainedAuthentication],
22:41:19:659	                                   (@@microsoftversion / 0x1000000) & 0xff AS [VersionMajor],
22:41:19:659	                                   (@@microsoftversion / 0x10000) & 0xff AS [VersionMinor],
22:41:19:659	                                   @@microsoftversion & 0xffff AS [BuildNumber],
22:41:19:659	                                   CAST(SERVERPROPERTY('IsSingleUser') AS bit) AS [IsSingleUser],
22:41:19:659	                                   CAST(SERVERPROPERTY(N'Edition') AS sysname) AS [Edition],
22:41:19:659	                                   CAST(SERVERPROPERTY('EngineEdition') AS int) AS [EngineEdition],
22:41:19:659	                                   CAST(ISNULL(SERVERPROPERTY(N'IsXTPSupported'), 0) AS bit) AS [IsXTPSupported],
22:41:19:659	                                   SERVERPROPERTY(N'ProductVersion') AS [VersionString],
22:41:19:659	                                   ( select Value from #SVer where Name =N'host_platform') AS [HostPlatform],
22:41:19:659	                                   CAST(FULLTEXTSERVICEPROPERTY('IsFullTextInstalled') AS bit) AS [IsFullTextInstalled]
22:41:19:659	                                   ORDER BY
22:41:19:659	                                   [Server_Name] ASC
22:41:19:659	                                           drop table #SVer
22:41:19:659	                                         
22:41:19:659	
22:41:21:305	[2025-11-28T22:41:21.3029071+03:00 Begin Query] URN:Server[@Name='SUNRISE\EXPO']/JobServer
22:41:21:475	[2025-11-28T22:41:21.3193404+03:00 End Query] URN:Server[@Name='SUNRISE\EXPO']/JobServer 

22:41:21:475	                                   Elapsed time:16,159 ms 

22:41:21:475	                                   Query: SELECT
22:41:21:475	                                   CAST(serverproperty(N'Servername') AS sysname) AS [Name],
22:41:21:475	                                   'Server[@Name=' + quotename(CAST(
22:41:21:475	                                           serverproperty(N'Servername')
22:41:21:475	                                          AS sysname),'''') + ']' + '/JobServer' AS [Urn]
22:41:21:475	                                   ORDER BY
22:41:21:475	                                   [Name] ASC
22:41:21:475	
22:41:22:450	[2025-11-28T22:41:22.4162193+03:00 Begin Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@IsSystemObject = 0 and @IsDatabaseSnapshot = 0]/Option
22:41:22:640	[2025-11-28T22:41:22.5673094+03:00 End Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@IsSystemObject = 0 and @IsDatabaseSnapshot = 0]/Option 

22:41:22:640	                                   Elapsed time:149,1375 ms 

22:41:22:640	                                   Query: 
22:41:22:640	                                           declare @HasViewPermission int
22:41:22:640	                                           select @HasViewPermission = HAS_PERMS_BY_NAME(null, null, 'VIEW SERVER STATE')
22:41:22:640	                                         
22:41:22:640	                                           create table #tmp_db_ars (replica_id uniqueidentifier, group_id uniqueidentifier, replica_server_name sysname)
22:41:22:640	                                           create table #tmp_db_ags (group_id uniqueidentifier, name sysname)
22:41:22:640	                                         
22:41:22:640	                                           create table #tmp_db_hadr_dbrs (group_database_id uniqueidentifier, synchronization_state tinyint, is_local bit, group_id uniqueidentifier, database_id int)
22:41:22:640	                                         
22:41:22:640	                                           create table #tmp_sync_states (database_id int, sync_state tinyint)
22:41:22:640	                                         
22:41:22:640	                                           if (@HasViewPermission = 1)
22:41:22:640	                                           begin
22:41:22:640	                                           insert into #tmp_db_ars select replica_id, group_id, replica_server_name  from  master.sys.availability_replicas
22:41:22:640	                                           insert into #tmp_db_ags select group_id, name from master.sys.availability_groups
22:41:22:640	                                           end
22:41:22:640	                                         
22:41:22:640	                                           if (@HasViewPermission = 1)
22:41:22:640	                                           begin
22:41:22:640	                                           insert into #tmp_db_hadr_dbrs select group_database_id, synchronization_state, is_local, group_id, database_id from master.sys.dm_hadr_database_replica_states
22:41:22:640	                                           end
22:41:22:640	                                         
22:41:22:640	                                           if (@HasViewPermission = 1)
22:41:22:640	                                           begin
22:41:22:640	                                           if serverproperty('EngineEdition') = 8
22:41:22:640	                                           begin
22:41:22:640	                                           insert into #tmp_sync_states
22:41:22:640	                                           select dtb.database_id, hadrd.synchronization_state as synchronization_state
22:41:22:640	                                           from sys.databases AS dtb
22:41:22:640	                                           join #tmp_db_hadr_dbrs AS hadrd ON hadrd.database_id = dtb.database_id AND hadrd.is_local = 1
22:41:22:640	                                           join #tmp_db_ags AS avag ON hadrd.group_id = avag.group_id
22:41:22:640	                                           join #tmp_db_ars AS avar ON avag.name = avar.replica_server_name
22:41:22:640	                                           join #tmp_db_ags AS avag2 ON avar.group_id = avag2.group_id
22:41:22:640	                                           where hadrd.database_id = dtb.database_id
22:41:22:640	                                           end
22:41:22:640	                                           else
22:41:22:640	                                           begin
22:41:22:640	                                           insert into #tmp_sync_states
22:41:22:640	                                           select dtb.database_id, hadrd.synchronization_state
22:41:22:640	                                           from sys.databases AS dtb
22:41:22:640	                                           join #tmp_db_hadr_dbrs AS hadrd ON hadrd.database_id = dtb.database_id AND hadrd.is_local = 1
22:41:22:640	                                           end
22:41:22:640	                                           end
22:41:22:640	                                         
22:41:22:640	                                   SELECT
22:41:22:640	                                   dtb.name AS [Database_Name],
22:41:22:640	                                   'Server[@Name=' + quotename(CAST(
22:41:22:640	                                           serverproperty(N'Servername')
22:41:22:640	                                          AS sysname),'''') + ']' + '/Database[@Name=' + quotename(dtb.name,'''') + ']' AS [Database_Urn],
22:41:22:640	                                   dtb.containment AS [Database_ContainmentType],
22:41:22:640	                                   dtb.recovery_model AS [Database_RecoveryModel],
22:41:22:640	                                   ISNULL(suser_sname(dtb.owner_sid),'') AS [Database_Owner],
22:41:22:640	                                           case
22:41:22:640	                                           when dtb.collation_name is null then 0x200
22:41:22:640	                                           else 0
22:41:22:640	                                           end |
22:41:22:640	                                           case
22:41:22:640	                                           when 1 = dtb.is_in_standby then 0x40
22:41:22:640	                                           else 0
22:41:22:640	                                           end |
22:41:22:640	                                           case dtb.state
22:41:22:640	                                           when 1 then 0x2
22:41:22:640	                                           when 2 then 0x8
22:41:22:640	                                           when 3 then 0x4
22:41:22:640	                                           when 4 then 0x10
22:41:22:640	                                           when 5 then 0x100
22:41:22:640	                                           when 6 then 0x20
22:41:22:640	                                           else 1
22:41:22:640	                                           end
22:41:22:640	                                          AS [Database_Status],
22:41:22:640	                                   dtb.compatibility_level AS [Database_CompatibilityLevel],
22:41:22:640	                                   ISNULL(dmi.mirroring_role,0) AS [Database_MirroringRole],
22:41:22:640	                                   ISNULL(dmi.mirroring_state + 1, 0) AS [Database_MirroringStatus],
22:41:22:640	                                   sync_state.sync_state AS [Database_AvailabilityDatabaseSynchronizationState],
22:41:22:640	                                   0 AS [Database_HasMemoryOptimizedObjects],
22:41:22:640	                                   CAST(0 AS bit) AS [Database_RemoteDataArchiveEnabled],
22:41:22:640	                                   CAST(
22:41:22:640	                                           case
22:41:22:640	                                           when SERVERPROPERTY('EngineEdition') = 6 then cast(1 as bit)
22:41:22:640	                                           else cast(0 as bit)
22:41:22:640	                                           end
22:41:22:640	                                          AS bit) AS [Database_IsSqlDw],
22:41:22:640	                                   case when SERVERPROPERTY('EngineEdition') = 8 then SERVERPROPERTY('IsFullTextInstalled') else dtb.is_fulltext_enabled end AS [Database_IsFullTextEnabled],
22:41:22:640	                                   CAST(ISNULL(dtb.is_ledger_on, 0) AS bit) AS [Database_IsLedger],
22:41:22:640	                                   dtb.recovery_model AS [RecoveryModel],
22:41:22:640	                                   dtb.user_access AS [UserAccess],
22:41:22:640	                                   dtb.is_read_only AS [ReadOnly],
22:41:22:640	                                   dtb.name AS [Database_DatabaseName2],
22:41:22:640	                                   dtb.name AS [Database_DatabaseName3]
22:41:22:640	                                   FROM
22:41:22:640	                                   master.sys.databases AS dtb
22:41:22:640	                                   LEFT OUTER JOIN sys.database_mirroring AS dmi ON dmi.database_id = dtb.database_id
22:41:22:640	                                   LEFT OUTER JOIN #tmp_sync_states AS sync_state ON dtb.database_id = sync_state.database_id
22:41:22:640	                                   WHERE
22:41:22:640	                                   (CAST(case when dtb.name in ('master','model','msdb','tempdb') then 1 else dtb.is_distributor end AS bit)=0 and CAST(isnull(dtb.source_database_id, 0) AS bit)=0)
22:41:22:640	                                   ORDER BY
22:41:22:640	                                   [Database_Name] ASC
22:41:22:640	                                           drop table #tmp_db_ars
22:41:22:640	                                           drop table #tmp_db_ags        
22:41:22:640	                                         
22:41:22:640	                                           drop table #tmp_db_hadr_dbrs
22:41:22:640	                                         
22:41:22:640	                                           drop table #tmp_sync_states
22:41:22:640	                                         
22:41:22:640	
22:41:23:880	[2025-11-28T22:41:23.8484769+03:00 Begin Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@IsSystemObject = 1]/Option
22:41:23:896	[2025-11-28T22:41:23.8955949+03:00 End Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@IsSystemObject = 1]/Option 

22:41:23:896	                                   Elapsed time:46,2916 ms 

22:41:23:896	                                   Query: 
22:41:23:896	                                   SELECT
22:41:23:896	                                   dtb.name AS [Database_Name],
22:41:23:896	                                   'Server[@Name=' + quotename(CAST(
22:41:23:896	                                           serverproperty(N'Servername')
22:41:23:896	                                          AS sysname),'''') + ']' + '/Database[@Name=' + quotename(dtb.name,'''') + ']' AS [Database_Urn],
22:41:23:896	                                           case
22:41:23:896	                                           when dtb.collation_name is null then 0x200
22:41:23:896	                                           else 0
22:41:23:896	                                           end |
22:41:23:896	                                           case
22:41:23:896	                                           when 1 = dtb.is_in_standby then 0x40
22:41:23:896	                                           else 0
22:41:23:896	                                           end |
22:41:23:896	                                           case dtb.state
22:41:23:896	                                           when 1 then 0x2
22:41:23:896	                                           when 2 then 0x8
22:41:23:896	                                           when 3 then 0x4
22:41:23:896	                                           when 4 then 0x10
22:41:23:896	                                           when 5 then 0x100
22:41:23:896	                                           when 6 then 0x20
22:41:23:896	                                           else 1
22:41:23:896	                                           end
22:41:23:896	                                          AS [Database_Status],
22:41:23:896	                                   dtb.compatibility_level AS [Database_CompatibilityLevel],
22:41:23:896	                                   CAST(
22:41:23:896	                                           case
22:41:23:896	                                           when SERVERPROPERTY('EngineEdition') = 6 then cast(1 as bit)
22:41:23:896	                                           else cast(0 as bit)
22:41:23:896	                                           end
22:41:23:896	                                          AS bit) AS [Database_IsSqlDw],
22:41:23:896	                                   case when SERVERPROPERTY('EngineEdition') = 8 then SERVERPROPERTY('IsFullTextInstalled') else dtb.is_fulltext_enabled end AS [Database_IsFullTextEnabled],
22:41:23:896	                                   dtb.recovery_model AS [RecoveryModel],
22:41:23:896	                                   dtb.user_access AS [UserAccess],
22:41:23:896	                                   dtb.is_read_only AS [ReadOnly],
22:41:23:896	                                   dtb.name AS [Database_DatabaseName2]
22:41:23:896	                                   FROM
22:41:23:896	                                   master.sys.databases AS dtb
22:41:23:896	                                   WHERE
22:41:23:896	                                   (CAST(case when dtb.name in ('master','model','msdb','tempdb') then 1 else dtb.is_distributor end AS bit)=1)
22:41:23:896	                                   ORDER BY
22:41:23:896	                                   [Database_Name] ASC
22:41:23:896	
22:41:25:955	[2025-11-28T22:41:25.9510646+03:00 Begin Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@Name='model']/Table[@IsSystemObject = 0 and @IsFileTable = 0 and @IsMemoryOptimized = 0 and @TemporalType = 0 and @IsExternal = 0 and @IsNode = 0 and @IsEdge = 0 and @LedgerType = 0]
22:41:26:490	[2025-11-28T22:41:26.2662559+03:00 End Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@Name='model']/Table[@IsSystemObject = 0 and @IsFileTable = 0 and @IsMemoryOptimized = 0 and @TemporalType = 0 and @IsExternal = 0 and @IsNode = 0 and @IsEdge = 0 and @LedgerType = 0] 

22:41:26:490	                                   Elapsed time:313,5159 ms 

22:41:26:490	                                   Query: SELECT
22:41:26:490	                                   tbl.name AS [Name],
22:41:26:490	                                   SCHEMA_NAME(tbl.schema_id) AS [Schema],
22:41:26:490	                                   'Server[@Name=' + quotename(CAST(
22:41:26:490	                                           serverproperty(N'Servername')
22:41:26:490	                                          AS sysname),'''') + ']' + '/Database[@Name=' + quotename(db_name(),'''') + ']' + '/Table[@Name=' + quotename(tbl.name,'''') + ' and @Schema=' + quotename(SCHEMA_NAME(tbl.schema_id),'''') + ']' AS [Urn],
22:41:26:490	                                   tbl.create_date AS [CreateDate],
22:41:26:490	                                   CAST(tbl.is_memory_optimized AS bit) AS [IsMemoryOptimized],
22:41:26:490	                                   CAST(CASE idx.type WHEN 5 THEN 1 ELSE 0 END AS bit) AS [HasClusteredColumnStoreIndex],
22:41:26:490	                                   CAST(0 AS bit) AS [RemoteDataArchiveEnabled],
22:41:26:490	                                   tbl.temporal_type AS [TemporalType],
22:41:26:490	                                   CAST(ISNULL(tbl.ledger_type, 0) AS int) AS [LedgerType],
22:41:26:490	                                   CAST(CASE WHEN 'PS'=dsidx.type THEN 1 ELSE 0 END AS bit) AS [IsPartitioned],
22:41:26:490	                                   CAST(
22:41:26:490	                                           ISNULL((SELECT distinct 1 from sys.all_columns
22:41:26:490	                                           WHERE object_id = tbl.object_id
22:41:26:490	                                           AND is_sparse = 1), 0)
22:41:26:490	                                          AS bit) AS [HasSparseColumn],
22:41:26:490	                                   CAST(tbl.is_node AS bit) AS [IsNode],
22:41:26:490	                                   CAST(tbl.is_edge AS bit) AS [IsEdge],
22:41:26:490	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type > 1 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasNonClusteredIndex],
22:41:26:490	                                   CAST(CASE idx.index_id WHEN 1 THEN 1 ELSE 0 END AS bit) AS [HasClusteredIndex],
22:41:26:490	                                   CAST(case idx.index_id when 1 then case when (idx.is_primary_key + 2*idx.is_unique_constraint = 1) then 1 else 0 end else 0 end AS bit) AS [HasPrimaryClusteredIndex],
22:41:26:490	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type = 3 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasXmlIndex],
22:41:26:490	                                   CAST(ISNULL((select top 1 1 from sys.all_columns as clmns join sys.types as usrt on usrt.user_type_id = clmns.user_type_id where clmns.object_id = tbl.object_id and usrt.name = N'xml'), 0) AS bit) AS [HasXmlData],
22:41:26:490	                                   CAST(ISNULL((select top 1 1 from sys.all_columns as clmns join sys.types as usrt on usrt.user_type_id = clmns.user_type_id where clmns.object_id = tbl.object_id and usrt.name in (N'geometry', N'geography')), 0) AS bit) AS [HasSpatialData],
22:41:26:490	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type = 6 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasNonClusteredColumnStoreIndex]
22:41:26:490	                                   FROM
22:41:26:490	                                   sys.tables AS tbl
22:41:26:490	                                   INNER JOIN sys.indexes AS idx ON 
22:41:26:490	                                           idx.object_id = tbl.object_id and (idx.index_id < 2  or (tbl.is_memory_optimized = 1 and idx.index_id = (select min(index_id) from sys.indexes where object_id = tbl.object_id)))
22:41:26:490	                                         
22:41:26:490	                                   LEFT OUTER JOIN sys.data_spaces AS dsidx ON dsidx.data_space_id = idx.data_space_id
22:41:26:490	                                   WHERE
22:41:26:490	                                   (CAST(
22:41:26:490	                                    case 
22:41:26:490	                                       when tbl.is_ms_shipped = 1 then 1
22:41:26:490	                                       when (
22:41:26:490	                                           select 
22:41:26:490	                                               major_id 
22:41:26:490	                                           from 
22:41:26:490	                                               sys.extended_properties 
22:41:26:490	                                           where 
22:41:26:490	                                               major_id = tbl.object_id and 
22:41:26:490	                                               minor_id = 0 and 
22:41:26:490	                                               class = 1 and 
22:41:26:490	                                               name = N'microsoft_database_tools_support') 
22:41:26:490	                                           is not null then 1
22:41:26:490	                                       else 0
22:41:26:490	                                   end          
22:41:26:490	                                                AS bit)=0 and tbl.is_filetable=0 and CAST(tbl.is_memory_optimized AS bit)=0 and tbl.temporal_type=0 and CAST(tbl.is_external AS bit)=0 and CAST(tbl.is_node AS bit)=0 and CAST(tbl.is_edge AS bit)=0 and CAST(ISNULL(tbl.ledger_type, 0) AS int)=0)
22:41:26:490	
22:41:26:538	[2025-11-28T22:41:26.3132535+03:00 Begin Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@Name='model']/Table[@IsSystemObject = 0 and @IsFileTable = 0 and @IsMemoryOptimized = 0 and @TemporalType = 2 and @IsExternal = 0 and @LedgerType = 0]
22:41:26:572	[2025-11-28T22:41:26.5714625+03:00 End Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@Name='model']/Table[@IsSystemObject = 0 and @IsFileTable = 0 and @IsMemoryOptimized = 0 and @TemporalType = 2 and @IsExternal = 0 and @LedgerType = 0] 

22:41:26:572	                                   Elapsed time:257,5067 ms 

22:41:26:572	                                   Query: SELECT
22:41:26:572	                                   tbl.name AS [Name],
22:41:26:572	                                   SCHEMA_NAME(tbl.schema_id) AS [Schema],
22:41:26:572	                                   'Server[@Name=' + quotename(CAST(
22:41:26:572	                                           serverproperty(N'Servername')
22:41:26:572	                                          AS sysname),'''') + ']' + '/Database[@Name=' + quotename(db_name(),'''') + ']' + '/Table[@Name=' + quotename(tbl.name,'''') + ' and @Schema=' + quotename(SCHEMA_NAME(tbl.schema_id),'''') + ']' AS [Urn],
22:41:26:572	                                   tbl.create_date AS [CreateDate],
22:41:26:572	                                   CAST(tbl.is_memory_optimized AS bit) AS [IsMemoryOptimized],
22:41:26:572	                                   CAST(CASE idx.type WHEN 5 THEN 1 ELSE 0 END AS bit) AS [HasClusteredColumnStoreIndex],
22:41:26:572	                                   CAST(ISNULL(historyTable.object_id, 0) AS int) AS [HistoryTableID],
22:41:26:572	                                   CAST(ISNULL(historyTable.name, N'') AS sysname) AS [HistoryTableName],
22:41:26:572	                                   CAST(ISNULL(SCHEMA_NAME(historyTable.schema_id), N'') AS sysname) AS [HistoryTableSchema],
22:41:26:572	                                   tbl.temporal_type AS [TemporalType],
22:41:26:572	                                   CAST(CASE WHEN 'PS'=dsidx.type THEN 1 ELSE 0 END AS bit) AS [IsPartitioned],
22:41:26:572	                                   CAST(
22:41:26:572	                                           ISNULL((SELECT distinct 1 from sys.all_columns
22:41:26:572	                                           WHERE object_id = tbl.object_id
22:41:26:572	                                           AND is_sparse = 1), 0)
22:41:26:572	                                          AS bit) AS [HasSparseColumn],
22:41:26:572	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type > 1 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasNonClusteredIndex],
22:41:26:572	                                   CAST(CASE idx.index_id WHEN 1 THEN 1 ELSE 0 END AS bit) AS [HasClusteredIndex],
22:41:26:572	                                   CAST(case idx.index_id when 1 then case when (idx.is_primary_key + 2*idx.is_unique_constraint = 1) then 1 else 0 end else 0 end AS bit) AS [HasPrimaryClusteredIndex],
22:41:26:572	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type = 3 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasXmlIndex],
22:41:26:572	                                   CAST(ISNULL((select top 1 1 from sys.all_columns as clmns join sys.types as usrt on usrt.user_type_id = clmns.user_type_id where clmns.object_id = tbl.object_id and usrt.name = N'xml'), 0) AS bit) AS [HasXmlData],
22:41:26:572	                                   CAST(ISNULL((select top 1 1 from sys.all_columns as clmns join sys.types as usrt on usrt.user_type_id = clmns.user_type_id where clmns.object_id = tbl.object_id and usrt.name in (N'geometry', N'geography')), 0) AS bit) AS [HasSpatialData],
22:41:26:572	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type = 6 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasNonClusteredColumnStoreIndex]
22:41:26:572	                                   FROM
22:41:26:572	                                   sys.tables AS tbl
22:41:26:572	                                   INNER JOIN sys.indexes AS idx ON 
22:41:26:572	                                           idx.object_id = tbl.object_id and (idx.index_id < 2  or (tbl.is_memory_optimized = 1 and idx.index_id = (select min(index_id) from sys.indexes where object_id = tbl.object_id)))
22:41:26:572	                                         
22:41:26:572	                                   LEFT OUTER JOIN sys.tables as historyTable ON historyTable.object_id = tbl.history_table_id
22:41:26:572	                                   LEFT OUTER JOIN sys.data_spaces AS dsidx ON dsidx.data_space_id = idx.data_space_id
22:41:26:572	                                   WHERE
22:41:26:572	                                   (CAST(
22:41:26:572	                                    case 
22:41:26:572	                                       when tbl.is_ms_shipped = 1 then 1
22:41:26:572	                                       when (
22:41:26:572	                                           select 
22:41:26:572	                                               major_id 
22:41:26:572	                                           from 
22:41:26:572	                                               sys.extended_properties 
22:41:26:572	                                           where 
22:41:26:572	                                               major_id = tbl.object_id and 
22:41:26:572	                                               minor_id = 0 and 
22:41:26:572	                                               class = 1 and 
22:41:26:572	                                               name = N'microsoft_database_tools_support') 
22:41:26:572	                                           is not null then 1
22:41:26:572	                                       else 0
22:41:26:572	                                   end          
22:41:26:572	                                                AS bit)=0 and tbl.is_filetable=0 and CAST(tbl.is_memory_optimized AS bit)=0 and tbl.temporal_type=2 and CAST(tbl.is_external AS bit)=0 and CAST(ISNULL(tbl.ledger_type, 0) AS int)=0)
22:41:26:572	
22:41:26:632	[2025-11-28T22:41:26.6203363+03:00 Begin Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@Name='model']/Table[@IsSystemObject = 0 and @IsFileTable = 0 and @IsMemoryOptimized = 1 and @TemporalType = 2 and @IsExternal = 0]
22:41:26:791	[2025-11-28T22:41:26.7775937+03:00 End Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@Name='model']/Table[@IsSystemObject = 0 and @IsFileTable = 0 and @IsMemoryOptimized = 1 and @TemporalType = 2 and @IsExternal = 0] 

22:41:26:791	                                   Elapsed time:157,5223 ms 

22:41:26:791	                                   Query: SELECT
22:41:26:791	                                   tbl.name AS [Name],
22:41:26:791	                                   SCHEMA_NAME(tbl.schema_id) AS [Schema],
22:41:26:791	                                   'Server[@Name=' + quotename(CAST(
22:41:26:791	                                           serverproperty(N'Servername')
22:41:26:791	                                          AS sysname),'''') + ']' + '/Database[@Name=' + quotename(db_name(),'''') + ']' + '/Table[@Name=' + quotename(tbl.name,'''') + ' and @Schema=' + quotename(SCHEMA_NAME(tbl.schema_id),'''') + ']' AS [Urn],
22:41:26:791	                                   tbl.create_date AS [CreateDate],
22:41:26:791	                                   CAST(tbl.is_memory_optimized AS bit) AS [IsMemoryOptimized],
22:41:26:791	                                   case when (tbl.durability=1) then 0 else 1 end AS [Durability],
22:41:26:791	                                   CAST(ISNULL(historyTable.object_id, 0) AS int) AS [HistoryTableID],
22:41:26:791	                                   CAST(ISNULL(historyTable.name, N'') AS sysname) AS [HistoryTableName],
22:41:26:791	                                   CAST(ISNULL(SCHEMA_NAME(historyTable.schema_id), N'') AS sysname) AS [HistoryTableSchema],
22:41:26:791	                                   tbl.temporal_type AS [TemporalType],
22:41:26:791	                                   CAST(0 AS bit) AS [RemoteDataArchiveEnabled],
22:41:26:791	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type > 1 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasNonClusteredIndex],
22:41:26:791	                                   CAST(CASE idx.index_id WHEN 1 THEN 1 ELSE 0 END AS bit) AS [HasClusteredIndex],
22:41:26:791	                                   CAST(case idx.index_id when 1 then case when (idx.is_primary_key + 2*idx.is_unique_constraint = 1) then 1 else 0 end else 0 end AS bit) AS [HasPrimaryClusteredIndex],
22:41:26:791	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type = 3 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasXmlIndex],
22:41:26:791	                                   CAST(ISNULL((select top 1 1 from sys.all_columns as clmns join sys.types as usrt on usrt.user_type_id = clmns.user_type_id where clmns.object_id = tbl.object_id and usrt.name = N'xml'), 0) AS bit) AS [HasXmlData],
22:41:26:791	                                   CAST(ISNULL((select top 1 1 from sys.all_columns as clmns join sys.types as usrt on usrt.user_type_id = clmns.user_type_id where clmns.object_id = tbl.object_id and usrt.name in (N'geometry', N'geography')), 0) AS bit) AS [HasSpatialData],
22:41:26:791	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type = 6 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasNonClusteredColumnStoreIndex]
22:41:26:791	                                   FROM
22:41:26:791	                                   sys.tables AS tbl
22:41:26:791	                                   LEFT OUTER JOIN sys.tables as historyTable ON historyTable.object_id = tbl.history_table_id
22:41:26:791	                                   INNER JOIN sys.indexes AS idx ON 
22:41:26:791	                                           idx.object_id = tbl.object_id and (idx.index_id < 2  or (tbl.is_memory_optimized = 1 and idx.index_id = (select min(index_id) from sys.indexes where object_id = tbl.object_id)))
22:41:26:791	                                         
22:41:26:791	                                   WHERE
22:41:26:791	                                   (CAST(
22:41:26:791	                                    case 
22:41:26:791	                                       when tbl.is_ms_shipped = 1 then 1
22:41:26:791	                                       when (
22:41:26:791	                                           select 
22:41:26:791	                                               major_id 
22:41:26:791	                                           from 
22:41:26:791	                                               sys.extended_properties 
22:41:26:791	                                           where 
22:41:26:791	                                               major_id = tbl.object_id and 
22:41:26:791	                                               minor_id = 0 and 
22:41:26:791	                                               class = 1 and 
22:41:26:791	                                               name = N'microsoft_database_tools_support') 
22:41:26:791	                                           is not null then 1
22:41:26:791	                                       else 0
22:41:26:791	                                   end          
22:41:26:791	                                                AS bit)=0 and tbl.is_filetable=0 and CAST(tbl.is_memory_optimized AS bit)=1 and tbl.temporal_type=2 and CAST(tbl.is_external AS bit)=0)
22:41:26:791	
22:41:26:815	[2025-11-28T22:41:26.8140496+03:00 Begin Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@Name='model']/Table[@IsSystemObject = 0 and @IsFileTable = 0 and @IsMemoryOptimized = 1 and @TemporalType = 0 and @IsExternal = 0]
22:41:27:041	[2025-11-28T22:41:26.9316559+03:00 End Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@Name='model']/Table[@IsSystemObject = 0 and @IsFileTable = 0 and @IsMemoryOptimized = 1 and @TemporalType = 0 and @IsExternal = 0] 

22:41:27:041	                                   Elapsed time:116,9663 ms 

22:41:27:041	                                   Query: SELECT
22:41:27:041	                                   tbl.name AS [Name],
22:41:27:041	                                   SCHEMA_NAME(tbl.schema_id) AS [Schema],
22:41:27:041	                                   'Server[@Name=' + quotename(CAST(
22:41:27:041	                                           serverproperty(N'Servername')
22:41:27:041	                                          AS sysname),'''') + ']' + '/Database[@Name=' + quotename(db_name(),'''') + ']' + '/Table[@Name=' + quotename(tbl.name,'''') + ' and @Schema=' + quotename(SCHEMA_NAME(tbl.schema_id),'''') + ']' AS [Urn],
22:41:27:041	                                   tbl.create_date AS [CreateDate],
22:41:27:041	                                   CAST(tbl.is_memory_optimized AS bit) AS [IsMemoryOptimized],
22:41:27:041	                                   case when (tbl.durability=1) then 0 else 1 end AS [Durability],
22:41:27:041	                                   tbl.temporal_type AS [TemporalType],
22:41:27:041	                                   CAST(0 AS bit) AS [RemoteDataArchiveEnabled],
22:41:27:041	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type > 1 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasNonClusteredIndex],
22:41:27:041	                                   CAST(CASE idx.index_id WHEN 1 THEN 1 ELSE 0 END AS bit) AS [HasClusteredIndex],
22:41:27:041	                                   CAST(case idx.index_id when 1 then case when (idx.is_primary_key + 2*idx.is_unique_constraint = 1) then 1 else 0 end else 0 end AS bit) AS [HasPrimaryClusteredIndex],
22:41:27:041	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type = 3 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasXmlIndex],
22:41:27:041	                                   CAST(ISNULL((select top 1 1 from sys.all_columns as clmns join sys.types as usrt on usrt.user_type_id = clmns.user_type_id where clmns.object_id = tbl.object_id and usrt.name = N'xml'), 0) AS bit) AS [HasXmlData],
22:41:27:041	                                   CAST(ISNULL((select top 1 1 from sys.all_columns as clmns join sys.types as usrt on usrt.user_type_id = clmns.user_type_id where clmns.object_id = tbl.object_id and usrt.name in (N'geometry', N'geography')), 0) AS bit) AS [HasSpatialData],
22:41:27:041	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type = 6 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasNonClusteredColumnStoreIndex]
22:41:27:041	                                   FROM
22:41:27:041	                                   sys.tables AS tbl
22:41:27:041	                                   INNER JOIN sys.indexes AS idx ON 
22:41:27:041	                                           idx.object_id = tbl.object_id and (idx.index_id < 2  or (tbl.is_memory_optimized = 1 and idx.index_id = (select min(index_id) from sys.indexes where object_id = tbl.object_id)))
22:41:27:041	                                         
22:41:27:041	                                   WHERE
22:41:27:041	                                   (CAST(
22:41:27:041	                                    case 
22:41:27:041	                                       when tbl.is_ms_shipped = 1 then 1
22:41:27:041	                                       when (
22:41:27:041	                                           select 
22:41:27:041	                                               major_id 
22:41:27:041	                                           from 
22:41:27:041	                                               sys.extended_properties 
22:41:27:041	                                           where 
22:41:27:041	                                               major_id = tbl.object_id and 
22:41:27:041	                                               minor_id = 0 and 
22:41:27:041	                                               class = 1 and 
22:41:27:041	                                               name = N'microsoft_database_tools_support') 
22:41:27:041	                                           is not null then 1
22:41:27:041	                                       else 0
22:41:27:041	                                   end          
22:41:27:041	                                                AS bit)=0 and tbl.is_filetable=0 and CAST(tbl.is_memory_optimized AS bit)=1 and tbl.temporal_type=0 and CAST(tbl.is_external AS bit)=0)
22:41:27:041	
22:41:27:058	[2025-11-28T22:41:26.9701648+03:00 Begin Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@Name='model']/Table[@IsSystemObject = 0 and @LedgerType = 2 and @IsDroppedLedgerTable = 0]
22:41:27:319	[2025-11-28T22:41:27.1401866+03:00 End Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@Name='model']/Table[@IsSystemObject = 0 and @LedgerType = 2 and @IsDroppedLedgerTable = 0] 

22:41:27:319	                                   Elapsed time:168,1021 ms 

22:41:27:319	                                   Query: SELECT
22:41:27:319	                                   tbl.name AS [Name],
22:41:27:319	                                   SCHEMA_NAME(tbl.schema_id) AS [Schema],
22:41:27:319	                                   'Server[@Name=' + quotename(CAST(
22:41:27:319	                                           serverproperty(N'Servername')
22:41:27:319	                                          AS sysname),'''') + ']' + '/Database[@Name=' + quotename(db_name(),'''') + ']' + '/Table[@Name=' + quotename(tbl.name,'''') + ' and @Schema=' + quotename(SCHEMA_NAME(tbl.schema_id),'''') + ']' AS [Urn],
22:41:27:319	                                   tbl.create_date AS [CreateDate],
22:41:27:319	                                   CAST(tbl.is_memory_optimized AS bit) AS [IsMemoryOptimized],
22:41:27:319	                                   CAST(CASE idx.type WHEN 5 THEN 1 ELSE 0 END AS bit) AS [HasClusteredColumnStoreIndex],
22:41:27:319	                                   CAST(ISNULL(historyTable.object_id, 0) AS int) AS [HistoryTableID],
22:41:27:319	                                   CAST(ISNULL(historyTable.name, N'') AS sysname) AS [HistoryTableName],
22:41:27:319	                                   CAST(ISNULL(SCHEMA_NAME(historyTable.schema_id), N'') AS sysname) AS [HistoryTableSchema],
22:41:27:319	                                   tbl.temporal_type AS [TemporalType],
22:41:27:319	                                   CAST(ISNULL(tbl.ledger_type, 0) AS int) AS [LedgerType],
22:41:27:319	                                   CAST(ISNULL(tbl.is_dropped_ledger_table, 0) AS bit) AS [IsDroppedLedgerTable],
22:41:27:319	                                   CAST(CASE WHEN 'PS'=dsidx.type THEN 1 ELSE 0 END AS bit) AS [IsPartitioned],
22:41:27:319	                                   CAST(
22:41:27:319	                                           ISNULL((SELECT distinct 1 from sys.all_columns
22:41:27:319	                                           WHERE object_id = tbl.object_id
22:41:27:319	                                           AND is_sparse = 1), 0)
22:41:27:319	                                          AS bit) AS [HasSparseColumn],
22:41:27:319	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type > 1 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasNonClusteredIndex],
22:41:27:319	                                   CAST(CASE idx.index_id WHEN 1 THEN 1 ELSE 0 END AS bit) AS [HasClusteredIndex],
22:41:27:319	                                   CAST(case idx.index_id when 1 then case when (idx.is_primary_key + 2*idx.is_unique_constraint = 1) then 1 else 0 end else 0 end AS bit) AS [HasPrimaryClusteredIndex],
22:41:27:319	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type = 3 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasXmlIndex],
22:41:27:319	                                   CAST(ISNULL((select top 1 1 from sys.all_columns as clmns join sys.types as usrt on usrt.user_type_id = clmns.user_type_id where clmns.object_id = tbl.object_id and usrt.name = N'xml'), 0) AS bit) AS [HasXmlData],
22:41:27:319	                                   CAST(ISNULL((select top 1 1 from sys.all_columns as clmns join sys.types as usrt on usrt.user_type_id = clmns.user_type_id where clmns.object_id = tbl.object_id and usrt.name in (N'geometry', N'geography')), 0) AS bit) AS [HasSpatialData],
22:41:27:319	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type = 6 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasNonClusteredColumnStoreIndex]
22:41:27:319	                                   FROM
22:41:27:319	                                   sys.tables AS tbl
22:41:27:319	                                   INNER JOIN sys.indexes AS idx ON 
22:41:27:319	                                           idx.object_id = tbl.object_id and (idx.index_id < 2  or (tbl.is_memory_optimized = 1 and idx.index_id = (select min(index_id) from sys.indexes where object_id = tbl.object_id)))
22:41:27:319	                                         
22:41:27:319	                                   LEFT OUTER JOIN sys.tables as historyTable ON historyTable.object_id = tbl.history_table_id
22:41:27:319	                                   LEFT OUTER JOIN sys.data_spaces AS dsidx ON dsidx.data_space_id = idx.data_space_id
22:41:27:319	                                   WHERE
22:41:27:319	                                   (CAST(
22:41:27:319	                                    case 
22:41:27:319	                                       when tbl.is_ms_shipped = 1 then 1
22:41:27:319	                                       when (
22:41:27:319	                                           select 
22:41:27:319	                                               major_id 
22:41:27:319	                                           from 
22:41:27:319	                                               sys.extended_properties 
22:41:27:319	                                           where 
22:41:27:319	                                               major_id = tbl.object_id and 
22:41:27:319	                                               minor_id = 0 and 
22:41:27:319	                                               class = 1 and 
22:41:27:319	                                               name = N'microsoft_database_tools_support') 
22:41:27:319	                                           is not null then 1
22:41:27:319	                                       else 0
22:41:27:319	                                   end          
22:41:27:319	                                                AS bit)=0 and CAST(ISNULL(tbl.ledger_type, 0) AS int)=2 and CAST(ISNULL(tbl.is_dropped_ledger_table, 0) AS bit)=0)
22:41:27:319	
22:41:27:366	[2025-11-28T22:41:27.1892574+03:00 Begin Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@Name='model']/Table[@IsSystemObject = 0 and @LedgerType = 3 and @IsDroppedLedgerTable = 0]
22:41:27:404	[2025-11-28T22:41:27.3915086+03:00 End Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@Name='model']/Table[@IsSystemObject = 0 and @LedgerType = 3 and @IsDroppedLedgerTable = 0] 

22:41:27:404	                                   Elapsed time:200,7375 ms 

22:41:27:404	                                   Query: SELECT
22:41:27:404	                                   tbl.name AS [Name],
22:41:27:404	                                   SCHEMA_NAME(tbl.schema_id) AS [Schema],
22:41:27:404	                                   'Server[@Name=' + quotename(CAST(
22:41:27:404	                                           serverproperty(N'Servername')
22:41:27:404	                                          AS sysname),'''') + ']' + '/Database[@Name=' + quotename(db_name(),'''') + ']' + '/Table[@Name=' + quotename(tbl.name,'''') + ' and @Schema=' + quotename(SCHEMA_NAME(tbl.schema_id),'''') + ']' AS [Urn],
22:41:27:404	                                   tbl.create_date AS [CreateDate],
22:41:27:404	                                   CAST(tbl.is_memory_optimized AS bit) AS [IsMemoryOptimized],
22:41:27:404	                                   CAST(CASE idx.type WHEN 5 THEN 1 ELSE 0 END AS bit) AS [HasClusteredColumnStoreIndex],
22:41:27:404	                                   CAST(ISNULL(tbl.ledger_type, 0) AS int) AS [LedgerType],
22:41:27:404	                                   CAST(ISNULL(tbl.is_dropped_ledger_table, 0) AS bit) AS [IsDroppedLedgerTable],
22:41:27:404	                                   CAST(CASE WHEN 'PS'=dsidx.type THEN 1 ELSE 0 END AS bit) AS [IsPartitioned],
22:41:27:404	                                   CAST(
22:41:27:404	                                           ISNULL((SELECT distinct 1 from sys.all_columns
22:41:27:404	                                           WHERE object_id = tbl.object_id
22:41:27:404	                                           AND is_sparse = 1), 0)
22:41:27:404	                                          AS bit) AS [HasSparseColumn],
22:41:27:404	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type > 1 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasNonClusteredIndex],
22:41:27:404	                                   CAST(CASE idx.index_id WHEN 1 THEN 1 ELSE 0 END AS bit) AS [HasClusteredIndex],
22:41:27:404	                                   CAST(case idx.index_id when 1 then case when (idx.is_primary_key + 2*idx.is_unique_constraint = 1) then 1 else 0 end else 0 end AS bit) AS [HasPrimaryClusteredIndex],
22:41:27:404	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type = 3 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasXmlIndex],
22:41:27:404	                                   CAST(ISNULL((select top 1 1 from sys.all_columns as clmns join sys.types as usrt on usrt.user_type_id = clmns.user_type_id where clmns.object_id = tbl.object_id and usrt.name = N'xml'), 0) AS bit) AS [HasXmlData],
22:41:27:404	                                   CAST(ISNULL((select top 1 1 from sys.all_columns as clmns join sys.types as usrt on usrt.user_type_id = clmns.user_type_id where clmns.object_id = tbl.object_id and usrt.name in (N'geometry', N'geography')), 0) AS bit) AS [HasSpatialData],
22:41:27:404	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type = 6 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasNonClusteredColumnStoreIndex]
22:41:27:404	                                   FROM
22:41:27:404	                                   sys.tables AS tbl
22:41:27:404	                                   INNER JOIN sys.indexes AS idx ON 
22:41:27:404	                                           idx.object_id = tbl.object_id and (idx.index_id < 2  or (tbl.is_memory_optimized = 1 and idx.index_id = (select min(index_id) from sys.indexes where object_id = tbl.object_id)))
22:41:27:404	                                         
22:41:27:404	                                   LEFT OUTER JOIN sys.data_spaces AS dsidx ON dsidx.data_space_id = idx.data_space_id
22:41:27:404	                                   WHERE
22:41:27:404	                                   (CAST(
22:41:27:404	                                    case 
22:41:27:404	                                       when tbl.is_ms_shipped = 1 then 1
22:41:27:404	                                       when (
22:41:27:404	                                           select 
22:41:27:404	                                               major_id 
22:41:27:404	                                           from 
22:41:27:404	                                               sys.extended_properties 
22:41:27:404	                                           where 
22:41:27:404	                                               major_id = tbl.object_id and 
22:41:27:404	                                               minor_id = 0 and 
22:41:27:404	                                               class = 1 and 
22:41:27:404	                                               name = N'microsoft_database_tools_support') 
22:41:27:404	                                           is not null then 1
22:41:27:404	                                       else 0
22:41:27:404	                                   end          
22:41:27:404	                                                AS bit)=0 and CAST(ISNULL(tbl.ledger_type, 0) AS int)=3 and CAST(ISNULL(tbl.is_dropped_ledger_table, 0) AS bit)=0)
22:41:27:404	
22:41:29:439	[2025-11-28T22:41:29.3967419+03:00 Begin Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@Name='master']/Table[@IsSystemObject = 0 and @IsFileTable = 0 and @IsMemoryOptimized = 0 and @TemporalType = 0 and @IsExternal = 0 and @IsNode = 0 and @IsEdge = 0 and @LedgerType = 0]
22:41:29:596	[2025-11-28T22:41:29.5701542+03:00 End Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@Name='master']/Table[@IsSystemObject = 0 and @IsFileTable = 0 and @IsMemoryOptimized = 0 and @TemporalType = 0 and @IsExternal = 0 and @IsNode = 0 and @IsEdge = 0 and @LedgerType = 0] 

22:41:29:596	                                   Elapsed time:172,5455 ms 

22:41:29:596	                                   Query: SELECT
22:41:29:596	                                   tbl.name AS [Name],
22:41:29:596	                                   SCHEMA_NAME(tbl.schema_id) AS [Schema],
22:41:29:596	                                   'Server[@Name=' + quotename(CAST(
22:41:29:596	                                           serverproperty(N'Servername')
22:41:29:596	                                          AS sysname),'''') + ']' + '/Database[@Name=' + quotename(db_name(),'''') + ']' + '/Table[@Name=' + quotename(tbl.name,'''') + ' and @Schema=' + quotename(SCHEMA_NAME(tbl.schema_id),'''') + ']' AS [Urn],
22:41:29:596	                                   tbl.create_date AS [CreateDate],
22:41:29:596	                                   CAST(tbl.is_memory_optimized AS bit) AS [IsMemoryOptimized],
22:41:29:596	                                   CAST(CASE idx.type WHEN 5 THEN 1 ELSE 0 END AS bit) AS [HasClusteredColumnStoreIndex],
22:41:29:596	                                   CAST(0 AS bit) AS [RemoteDataArchiveEnabled],
22:41:29:596	                                   tbl.temporal_type AS [TemporalType],
22:41:29:596	                                   CAST(ISNULL(tbl.ledger_type, 0) AS int) AS [LedgerType],
22:41:29:596	                                   CAST(CASE WHEN 'PS'=dsidx.type THEN 1 ELSE 0 END AS bit) AS [IsPartitioned],
22:41:29:596	                                   CAST(
22:41:29:596	                                           ISNULL((SELECT distinct 1 from sys.all_columns
22:41:29:596	                                           WHERE object_id = tbl.object_id
22:41:29:596	                                           AND is_sparse = 1), 0)
22:41:29:596	                                          AS bit) AS [HasSparseColumn],
22:41:29:596	                                   CAST(tbl.is_node AS bit) AS [IsNode],
22:41:29:596	                                   CAST(tbl.is_edge AS bit) AS [IsEdge],
22:41:29:596	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type > 1 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasNonClusteredIndex],
22:41:29:596	                                   CAST(CASE idx.index_id WHEN 1 THEN 1 ELSE 0 END AS bit) AS [HasClusteredIndex],
22:41:29:596	                                   CAST(case idx.index_id when 1 then case when (idx.is_primary_key + 2*idx.is_unique_constraint = 1) then 1 else 0 end else 0 end AS bit) AS [HasPrimaryClusteredIndex],
22:41:29:596	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type = 3 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasXmlIndex],
22:41:29:596	                                   CAST(ISNULL((select top 1 1 from sys.all_columns as clmns join sys.types as usrt on usrt.user_type_id = clmns.user_type_id where clmns.object_id = tbl.object_id and usrt.name = N'xml'), 0) AS bit) AS [HasXmlData],
22:41:29:596	                                   CAST(ISNULL((select top 1 1 from sys.all_columns as clmns join sys.types as usrt on usrt.user_type_id = clmns.user_type_id where clmns.object_id = tbl.object_id and usrt.name in (N'geometry', N'geography')), 0) AS bit) AS [HasSpatialData],
22:41:29:596	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type = 6 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasNonClusteredColumnStoreIndex]
22:41:29:596	                                   FROM
22:41:29:596	                                   sys.tables AS tbl
22:41:29:596	                                   INNER JOIN sys.indexes AS idx ON 
22:41:29:596	                                           idx.object_id = tbl.object_id and (idx.index_id < 2  or (tbl.is_memory_optimized = 1 and idx.index_id = (select min(index_id) from sys.indexes where object_id = tbl.object_id)))
22:41:29:596	                                         
22:41:29:596	                                   LEFT OUTER JOIN sys.data_spaces AS dsidx ON dsidx.data_space_id = idx.data_space_id
22:41:29:596	                                   WHERE
22:41:29:596	                                   (CAST(
22:41:29:596	                                    case 
22:41:29:596	                                       when tbl.is_ms_shipped = 1 then 1
22:41:29:596	                                       when (
22:41:29:596	                                           select 
22:41:29:596	                                               major_id 
22:41:29:596	                                           from 
22:41:29:596	                                               sys.extended_properties 
22:41:29:596	                                           where 
22:41:29:596	                                               major_id = tbl.object_id and 
22:41:29:596	                                               minor_id = 0 and 
22:41:29:596	                                               class = 1 and 
22:41:29:596	                                               name = N'microsoft_database_tools_support') 
22:41:29:596	                                           is not null then 1
22:41:29:596	                                       else 0
22:41:29:596	                                   end          
22:41:29:596	                                                AS bit)=0 and tbl.is_filetable=0 and CAST(tbl.is_memory_optimized AS bit)=0 and tbl.temporal_type=0 and CAST(tbl.is_external AS bit)=0 and CAST(tbl.is_node AS bit)=0 and CAST(tbl.is_edge AS bit)=0 and CAST(ISNULL(tbl.ledger_type, 0) AS int)=0)
22:41:29:596	
22:41:29:641	[2025-11-28T22:41:29.5941403+03:00 Begin Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@Name='master']/Table[@IsSystemObject = 0 and @IsFileTable = 0 and @IsMemoryOptimized = 0 and @TemporalType = 2 and @IsExternal = 0 and @LedgerType = 0]
22:41:29:956	[2025-11-28T22:41:29.7639638+03:00 End Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@Name='master']/Table[@IsSystemObject = 0 and @IsFileTable = 0 and @IsMemoryOptimized = 0 and @TemporalType = 2 and @IsExternal = 0 and @LedgerType = 0] 

22:41:29:956	                                   Elapsed time:168,8746 ms 

22:41:29:956	                                   Query: SELECT
22:41:29:956	                                   tbl.name AS [Name],
22:41:29:956	                                   SCHEMA_NAME(tbl.schema_id) AS [Schema],
22:41:29:956	                                   'Server[@Name=' + quotename(CAST(
22:41:29:956	                                           serverproperty(N'Servername')
22:41:29:956	                                          AS sysname),'''') + ']' + '/Database[@Name=' + quotename(db_name(),'''') + ']' + '/Table[@Name=' + quotename(tbl.name,'''') + ' and @Schema=' + quotename(SCHEMA_NAME(tbl.schema_id),'''') + ']' AS [Urn],
22:41:29:956	                                   tbl.create_date AS [CreateDate],
22:41:29:956	                                   CAST(tbl.is_memory_optimized AS bit) AS [IsMemoryOptimized],
22:41:29:956	                                   CAST(CASE idx.type WHEN 5 THEN 1 ELSE 0 END AS bit) AS [HasClusteredColumnStoreIndex],
22:41:29:956	                                   CAST(ISNULL(historyTable.object_id, 0) AS int) AS [HistoryTableID],
22:41:29:956	                                   CAST(ISNULL(historyTable.name, N'') AS sysname) AS [HistoryTableName],
22:41:29:956	                                   CAST(ISNULL(SCHEMA_NAME(historyTable.schema_id), N'') AS sysname) AS [HistoryTableSchema],
22:41:29:956	                                   tbl.temporal_type AS [TemporalType],
22:41:29:956	                                   CAST(CASE WHEN 'PS'=dsidx.type THEN 1 ELSE 0 END AS bit) AS [IsPartitioned],
22:41:29:956	                                   CAST(
22:41:29:956	                                           ISNULL((SELECT distinct 1 from sys.all_columns
22:41:29:956	                                           WHERE object_id = tbl.object_id
22:41:29:956	                                           AND is_sparse = 1), 0)
22:41:29:956	                                          AS bit) AS [HasSparseColumn],
22:41:29:956	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type > 1 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasNonClusteredIndex],
22:41:29:956	                                   CAST(CASE idx.index_id WHEN 1 THEN 1 ELSE 0 END AS bit) AS [HasClusteredIndex],
22:41:29:956	                                   CAST(case idx.index_id when 1 then case when (idx.is_primary_key + 2*idx.is_unique_constraint = 1) then 1 else 0 end else 0 end AS bit) AS [HasPrimaryClusteredIndex],
22:41:29:956	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type = 3 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasXmlIndex],
22:41:29:956	                                   CAST(ISNULL((select top 1 1 from sys.all_columns as clmns join sys.types as usrt on usrt.user_type_id = clmns.user_type_id where clmns.object_id = tbl.object_id and usrt.name = N'xml'), 0) AS bit) AS [HasXmlData],
22:41:29:956	                                   CAST(ISNULL((select top 1 1 from sys.all_columns as clmns join sys.types as usrt on usrt.user_type_id = clmns.user_type_id where clmns.object_id = tbl.object_id and usrt.name in (N'geometry', N'geography')), 0) AS bit) AS [HasSpatialData],
22:41:29:956	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type = 6 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasNonClusteredColumnStoreIndex]
22:41:29:956	                                   FROM
22:41:29:956	                                   sys.tables AS tbl
22:41:29:956	                                   INNER JOIN sys.indexes AS idx ON 
22:41:29:956	                                           idx.object_id = tbl.object_id and (idx.index_id < 2  or (tbl.is_memory_optimized = 1 and idx.index_id = (select min(index_id) from sys.indexes where object_id = tbl.object_id)))
22:41:29:956	                                         
22:41:29:956	                                   LEFT OUTER JOIN sys.tables as historyTable ON historyTable.object_id = tbl.history_table_id
22:41:29:956	                                   LEFT OUTER JOIN sys.data_spaces AS dsidx ON dsidx.data_space_id = idx.data_space_id
22:41:29:956	                                   WHERE
22:41:29:956	                                   (CAST(
22:41:29:956	                                    case 
22:41:29:956	                                       when tbl.is_ms_shipped = 1 then 1
22:41:29:956	                                       when (
22:41:29:956	                                           select 
22:41:29:956	                                               major_id 
22:41:29:956	                                           from 
22:41:29:956	                                               sys.extended_properties 
22:41:29:956	                                           where 
22:41:29:956	                                               major_id = tbl.object_id and 
22:41:29:956	                                               minor_id = 0 and 
22:41:29:956	                                               class = 1 and 
22:41:29:956	                                               name = N'microsoft_database_tools_support') 
22:41:29:956	                                           is not null then 1
22:41:29:956	                                       else 0
22:41:29:956	                                   end          
22:41:29:956	                                                AS bit)=0 and tbl.is_filetable=0 and CAST(tbl.is_memory_optimized AS bit)=0 and tbl.temporal_type=2 and CAST(tbl.is_external AS bit)=0 and CAST(ISNULL(tbl.ledger_type, 0) AS int)=0)
22:41:29:956	
22:41:29:988	[2025-11-28T22:41:29.7928443+03:00 Begin Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@Name='master']/Table[@IsSystemObject = 0 and @IsFileTable = 0 and @IsMemoryOptimized = 1 and @TemporalType = 2 and @IsExternal = 0]
22:41:30:179	[2025-11-28T22:41:30.0540643+03:00 End Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@Name='master']/Table[@IsSystemObject = 0 and @IsFileTable = 0 and @IsMemoryOptimized = 1 and @TemporalType = 2 and @IsExternal = 0] 

22:41:30:179	                                   Elapsed time:258,8492 ms 

22:41:30:179	                                   Query: SELECT
22:41:30:179	                                   tbl.name AS [Name],
22:41:30:179	                                   SCHEMA_NAME(tbl.schema_id) AS [Schema],
22:41:30:179	                                   'Server[@Name=' + quotename(CAST(
22:41:30:179	                                           serverproperty(N'Servername')
22:41:30:179	                                          AS sysname),'''') + ']' + '/Database[@Name=' + quotename(db_name(),'''') + ']' + '/Table[@Name=' + quotename(tbl.name,'''') + ' and @Schema=' + quotename(SCHEMA_NAME(tbl.schema_id),'''') + ']' AS [Urn],
22:41:30:179	                                   tbl.create_date AS [CreateDate],
22:41:30:179	                                   CAST(tbl.is_memory_optimized AS bit) AS [IsMemoryOptimized],
22:41:30:179	                                   case when (tbl.durability=1) then 0 else 1 end AS [Durability],
22:41:30:179	                                   CAST(ISNULL(historyTable.object_id, 0) AS int) AS [HistoryTableID],
22:41:30:179	                                   CAST(ISNULL(historyTable.name, N'') AS sysname) AS [HistoryTableName],
22:41:30:179	                                   CAST(ISNULL(SCHEMA_NAME(historyTable.schema_id), N'') AS sysname) AS [HistoryTableSchema],
22:41:30:179	                                   tbl.temporal_type AS [TemporalType],
22:41:30:179	                                   CAST(0 AS bit) AS [RemoteDataArchiveEnabled],
22:41:30:179	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type > 1 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasNonClusteredIndex],
22:41:30:179	                                   CAST(CASE idx.index_id WHEN 1 THEN 1 ELSE 0 END AS bit) AS [HasClusteredIndex],
22:41:30:179	                                   CAST(case idx.index_id when 1 then case when (idx.is_primary_key + 2*idx.is_unique_constraint = 1) then 1 else 0 end else 0 end AS bit) AS [HasPrimaryClusteredIndex],
22:41:30:179	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type = 3 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasXmlIndex],
22:41:30:179	                                   CAST(ISNULL((select top 1 1 from sys.all_columns as clmns join sys.types as usrt on usrt.user_type_id = clmns.user_type_id where clmns.object_id = tbl.object_id and usrt.name = N'xml'), 0) AS bit) AS [HasXmlData],
22:41:30:179	                                   CAST(ISNULL((select top 1 1 from sys.all_columns as clmns join sys.types as usrt on usrt.user_type_id = clmns.user_type_id where clmns.object_id = tbl.object_id and usrt.name in (N'geometry', N'geography')), 0) AS bit) AS [HasSpatialData],
22:41:30:179	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type = 6 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasNonClusteredColumnStoreIndex]
22:41:30:179	                                   FROM
22:41:30:179	                                   sys.tables AS tbl
22:41:30:179	                                   LEFT OUTER JOIN sys.tables as historyTable ON historyTable.object_id = tbl.history_table_id
22:41:30:179	                                   INNER JOIN sys.indexes AS idx ON 
22:41:30:179	                                           idx.object_id = tbl.object_id and (idx.index_id < 2  or (tbl.is_memory_optimized = 1 and idx.index_id = (select min(index_id) from sys.indexes where object_id = tbl.object_id)))
22:41:30:179	                                         
22:41:30:179	                                   WHERE
22:41:30:179	                                   (CAST(
22:41:30:179	                                    case 
22:41:30:179	                                       when tbl.is_ms_shipped = 1 then 1
22:41:30:179	                                       when (
22:41:30:179	                                           select 
22:41:30:179	                                               major_id 
22:41:30:179	                                           from 
22:41:30:179	                                               sys.extended_properties 
22:41:30:179	                                           where 
22:41:30:179	                                               major_id = tbl.object_id and 
22:41:30:179	                                               minor_id = 0 and 
22:41:30:179	                                               class = 1 and 
22:41:30:179	                                               name = N'microsoft_database_tools_support') 
22:41:30:179	                                           is not null then 1
22:41:30:179	                                       else 0
22:41:30:179	                                   end          
22:41:30:179	                                                AS bit)=0 and tbl.is_filetable=0 and CAST(tbl.is_memory_optimized AS bit)=1 and tbl.temporal_type=2 and CAST(tbl.is_external AS bit)=0)
22:41:30:179	
22:41:30:179	[2025-11-28T22:41:30.0813759+03:00 Begin Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@Name='master']/Table[@IsSystemObject = 0 and @IsFileTable = 0 and @IsMemoryOptimized = 1 and @TemporalType = 0 and @IsExternal = 0]
22:41:30:188	[2025-11-28T22:41:30.1870942+03:00 End Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@Name='master']/Table[@IsSystemObject = 0 and @IsFileTable = 0 and @IsMemoryOptimized = 1 and @TemporalType = 0 and @IsExternal = 0] 

22:41:30:188	                                   Elapsed time:104,8901 ms 

22:41:30:188	                                   Query: SELECT
22:41:30:188	                                   tbl.name AS [Name],
22:41:30:188	                                   SCHEMA_NAME(tbl.schema_id) AS [Schema],
22:41:30:188	                                   'Server[@Name=' + quotename(CAST(
22:41:30:188	                                           serverproperty(N'Servername')
22:41:30:188	                                          AS sysname),'''') + ']' + '/Database[@Name=' + quotename(db_name(),'''') + ']' + '/Table[@Name=' + quotename(tbl.name,'''') + ' and @Schema=' + quotename(SCHEMA_NAME(tbl.schema_id),'''') + ']' AS [Urn],
22:41:30:188	                                   tbl.create_date AS [CreateDate],
22:41:30:188	                                   CAST(tbl.is_memory_optimized AS bit) AS [IsMemoryOptimized],
22:41:30:188	                                   case when (tbl.durability=1) then 0 else 1 end AS [Durability],
22:41:30:188	                                   tbl.temporal_type AS [TemporalType],
22:41:30:188	                                   CAST(0 AS bit) AS [RemoteDataArchiveEnabled],
22:41:30:188	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type > 1 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasNonClusteredIndex],
22:41:30:188	                                   CAST(CASE idx.index_id WHEN 1 THEN 1 ELSE 0 END AS bit) AS [HasClusteredIndex],
22:41:30:188	                                   CAST(case idx.index_id when 1 then case when (idx.is_primary_key + 2*idx.is_unique_constraint = 1) then 1 else 0 end else 0 end AS bit) AS [HasPrimaryClusteredIndex],
22:41:30:188	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type = 3 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasXmlIndex],
22:41:30:188	                                   CAST(ISNULL((select top 1 1 from sys.all_columns as clmns join sys.types as usrt on usrt.user_type_id = clmns.user_type_id where clmns.object_id = tbl.object_id and usrt.name = N'xml'), 0) AS bit) AS [HasXmlData],
22:41:30:188	                                   CAST(ISNULL((select top 1 1 from sys.all_columns as clmns join sys.types as usrt on usrt.user_type_id = clmns.user_type_id where clmns.object_id = tbl.object_id and usrt.name in (N'geometry', N'geography')), 0) AS bit) AS [HasSpatialData],
22:41:30:188	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type = 6 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasNonClusteredColumnStoreIndex]
22:41:30:188	                                   FROM
22:41:30:188	                                   sys.tables AS tbl
22:41:30:188	                                   INNER JOIN sys.indexes AS idx ON 
22:41:30:188	                                           idx.object_id = tbl.object_id and (idx.index_id < 2  or (tbl.is_memory_optimized = 1 and idx.index_id = (select min(index_id) from sys.indexes where object_id = tbl.object_id)))
22:41:30:188	                                         
22:41:30:188	                                   WHERE
22:41:30:188	                                   (CAST(
22:41:30:188	                                    case 
22:41:30:188	                                       when tbl.is_ms_shipped = 1 then 1
22:41:30:188	                                       when (
22:41:30:188	                                           select 
22:41:30:188	                                               major_id 
22:41:30:188	                                           from 
22:41:30:188	                                               sys.extended_properties 
22:41:30:188	                                           where 
22:41:30:188	                                               major_id = tbl.object_id and 
22:41:30:188	                                               minor_id = 0 and 
22:41:30:188	                                               class = 1 and 
22:41:30:188	                                               name = N'microsoft_database_tools_support') 
22:41:30:188	                                           is not null then 1
22:41:30:188	                                       else 0
22:41:30:188	                                   end          
22:41:30:188	                                                AS bit)=0 and tbl.is_filetable=0 and CAST(tbl.is_memory_optimized AS bit)=1 and tbl.temporal_type=0 and CAST(tbl.is_external AS bit)=0)
22:41:30:188	
22:41:30:240	[2025-11-28T22:41:30.2225972+03:00 Begin Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@Name='master']/Table[@IsSystemObject = 0 and @LedgerType = 2 and @IsDroppedLedgerTable = 0]
22:41:30:728	[2025-11-28T22:41:30.5655180+03:00 End Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@Name='master']/Table[@IsSystemObject = 0 and @LedgerType = 2 and @IsDroppedLedgerTable = 0] 

22:41:30:728	                                   Elapsed time:341,4282 ms 

22:41:30:728	                                   Query: SELECT
22:41:30:728	                                   tbl.name AS [Name],
22:41:30:728	                                   SCHEMA_NAME(tbl.schema_id) AS [Schema],
22:41:30:728	                                   'Server[@Name=' + quotename(CAST(
22:41:30:728	                                           serverproperty(N'Servername')
22:41:30:728	                                          AS sysname),'''') + ']' + '/Database[@Name=' + quotename(db_name(),'''') + ']' + '/Table[@Name=' + quotename(tbl.name,'''') + ' and @Schema=' + quotename(SCHEMA_NAME(tbl.schema_id),'''') + ']' AS [Urn],
22:41:30:728	                                   tbl.create_date AS [CreateDate],
22:41:30:728	                                   CAST(tbl.is_memory_optimized AS bit) AS [IsMemoryOptimized],
22:41:30:728	                                   CAST(CASE idx.type WHEN 5 THEN 1 ELSE 0 END AS bit) AS [HasClusteredColumnStoreIndex],
22:41:30:728	                                   CAST(ISNULL(historyTable.object_id, 0) AS int) AS [HistoryTableID],
22:41:30:728	                                   CAST(ISNULL(historyTable.name, N'') AS sysname) AS [HistoryTableName],
22:41:30:728	                                   CAST(ISNULL(SCHEMA_NAME(historyTable.schema_id), N'') AS sysname) AS [HistoryTableSchema],
22:41:30:728	                                   tbl.temporal_type AS [TemporalType],
22:41:30:728	                                   CAST(ISNULL(tbl.ledger_type, 0) AS int) AS [LedgerType],
22:41:30:728	                                   CAST(ISNULL(tbl.is_dropped_ledger_table, 0) AS bit) AS [IsDroppedLedgerTable],
22:41:30:728	                                   CAST(CASE WHEN 'PS'=dsidx.type THEN 1 ELSE 0 END AS bit) AS [IsPartitioned],
22:41:30:728	                                   CAST(
22:41:30:728	                                           ISNULL((SELECT distinct 1 from sys.all_columns
22:41:30:728	                                           WHERE object_id = tbl.object_id
22:41:30:728	                                           AND is_sparse = 1), 0)
22:41:30:728	                                          AS bit) AS [HasSparseColumn],
22:41:30:728	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type > 1 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasNonClusteredIndex],
22:41:30:728	                                   CAST(CASE idx.index_id WHEN 1 THEN 1 ELSE 0 END AS bit) AS [HasClusteredIndex],
22:41:30:728	                                   CAST(case idx.index_id when 1 then case when (idx.is_primary_key + 2*idx.is_unique_constraint = 1) then 1 else 0 end else 0 end AS bit) AS [HasPrimaryClusteredIndex],
22:41:30:728	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type = 3 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasXmlIndex],
22:41:30:728	                                   CAST(ISNULL((select top 1 1 from sys.all_columns as clmns join sys.types as usrt on usrt.user_type_id = clmns.user_type_id where clmns.object_id = tbl.object_id and usrt.name = N'xml'), 0) AS bit) AS [HasXmlData],
22:41:30:728	                                   CAST(ISNULL((select top 1 1 from sys.all_columns as clmns join sys.types as usrt on usrt.user_type_id = clmns.user_type_id where clmns.object_id = tbl.object_id and usrt.name in (N'geometry', N'geography')), 0) AS bit) AS [HasSpatialData],
22:41:30:728	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type = 6 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasNonClusteredColumnStoreIndex]
22:41:30:728	                                   FROM
22:41:30:728	                                   sys.tables AS tbl
22:41:30:728	                                   INNER JOIN sys.indexes AS idx ON 
22:41:30:728	                                           idx.object_id = tbl.object_id and (idx.index_id < 2  or (tbl.is_memory_optimized = 1 and idx.index_id = (select min(index_id) from sys.indexes where object_id = tbl.object_id)))
22:41:30:728	                                         
22:41:30:728	                                   LEFT OUTER JOIN sys.tables as historyTable ON historyTable.object_id = tbl.history_table_id
22:41:30:728	                                   LEFT OUTER JOIN sys.data_spaces AS dsidx ON dsidx.data_space_id = idx.data_space_id
22:41:30:728	                                   WHERE
22:41:30:728	                                   (CAST(
22:41:30:728	                                    case 
22:41:30:728	                                       when tbl.is_ms_shipped = 1 then 1
22:41:30:728	                                       when (
22:41:30:728	                                           select 
22:41:30:728	                                               major_id 
22:41:30:728	                                           from 
22:41:30:728	                                               sys.extended_properties 
22:41:30:728	                                           where 
22:41:30:728	                                               major_id = tbl.object_id and 
22:41:30:728	                                               minor_id = 0 and 
22:41:30:728	                                               class = 1 and 
22:41:30:728	                                               name = N'microsoft_database_tools_support') 
22:41:30:728	                                           is not null then 1
22:41:30:728	                                       else 0
22:41:30:728	                                   end          
22:41:30:728	                                                AS bit)=0 and CAST(ISNULL(tbl.ledger_type, 0) AS int)=2 and CAST(ISNULL(tbl.is_dropped_ledger_table, 0) AS bit)=0)
22:41:30:728	
22:41:30:838	[2025-11-28T22:41:30.5954292+03:00 Begin Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@Name='master']/Table[@IsSystemObject = 0 and @LedgerType = 3 and @IsDroppedLedgerTable = 0]
22:41:30:885	[2025-11-28T22:41:30.7489028+03:00 End Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@Name='master']/Table[@IsSystemObject = 0 and @LedgerType = 3 and @IsDroppedLedgerTable = 0] 

22:41:30:885	                                   Elapsed time:150,8917 ms 

22:41:30:885	                                   Query: SELECT
22:41:30:885	                                   tbl.name AS [Name],
22:41:30:885	                                   SCHEMA_NAME(tbl.schema_id) AS [Schema],
22:41:30:885	                                   'Server[@Name=' + quotename(CAST(
22:41:30:885	                                           serverproperty(N'Servername')
22:41:30:885	                                          AS sysname),'''') + ']' + '/Database[@Name=' + quotename(db_name(),'''') + ']' + '/Table[@Name=' + quotename(tbl.name,'''') + ' and @Schema=' + quotename(SCHEMA_NAME(tbl.schema_id),'''') + ']' AS [Urn],
22:41:30:885	                                   tbl.create_date AS [CreateDate],
22:41:30:885	                                   CAST(tbl.is_memory_optimized AS bit) AS [IsMemoryOptimized],
22:41:30:885	                                   CAST(CASE idx.type WHEN 5 THEN 1 ELSE 0 END AS bit) AS [HasClusteredColumnStoreIndex],
22:41:30:885	                                   CAST(ISNULL(tbl.ledger_type, 0) AS int) AS [LedgerType],
22:41:30:885	                                   CAST(ISNULL(tbl.is_dropped_ledger_table, 0) AS bit) AS [IsDroppedLedgerTable],
22:41:30:885	                                   CAST(CASE WHEN 'PS'=dsidx.type THEN 1 ELSE 0 END AS bit) AS [IsPartitioned],
22:41:30:885	                                   CAST(
22:41:30:885	                                           ISNULL((SELECT distinct 1 from sys.all_columns
22:41:30:885	                                           WHERE object_id = tbl.object_id
22:41:30:885	                                           AND is_sparse = 1), 0)
22:41:30:885	                                          AS bit) AS [HasSparseColumn],
22:41:30:885	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type > 1 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasNonClusteredIndex],
22:41:30:885	                                   CAST(CASE idx.index_id WHEN 1 THEN 1 ELSE 0 END AS bit) AS [HasClusteredIndex],
22:41:30:885	                                   CAST(case idx.index_id when 1 then case when (idx.is_primary_key + 2*idx.is_unique_constraint = 1) then 1 else 0 end else 0 end AS bit) AS [HasPrimaryClusteredIndex],
22:41:30:885	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type = 3 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasXmlIndex],
22:41:30:885	                                   CAST(ISNULL((select top 1 1 from sys.all_columns as clmns join sys.types as usrt on usrt.user_type_id = clmns.user_type_id where clmns.object_id = tbl.object_id and usrt.name = N'xml'), 0) AS bit) AS [HasXmlData],
22:41:30:885	                                   CAST(ISNULL((select top 1 1 from sys.all_columns as clmns join sys.types as usrt on usrt.user_type_id = clmns.user_type_id where clmns.object_id = tbl.object_id and usrt.name in (N'geometry', N'geography')), 0) AS bit) AS [HasSpatialData],
22:41:30:885	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type = 6 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasNonClusteredColumnStoreIndex]
22:41:30:885	                                   FROM
22:41:30:885	                                   sys.tables AS tbl
22:41:30:885	                                   INNER JOIN sys.indexes AS idx ON 
22:41:30:885	                                           idx.object_id = tbl.object_id and (idx.index_id < 2  or (tbl.is_memory_optimized = 1 and idx.index_id = (select min(index_id) from sys.indexes where object_id = tbl.object_id)))
22:41:30:885	                                         
22:41:30:885	                                   LEFT OUTER JOIN sys.data_spaces AS dsidx ON dsidx.data_space_id = idx.data_space_id
22:41:30:885	                                   WHERE
22:41:30:885	                                   (CAST(
22:41:30:885	                                    case 
22:41:30:885	                                       when tbl.is_ms_shipped = 1 then 1
22:41:30:885	                                       when (
22:41:30:885	                                           select 
22:41:30:885	                                               major_id 
22:41:30:885	                                           from 
22:41:30:885	                                               sys.extended_properties 
22:41:30:885	                                           where 
22:41:30:885	                                               major_id = tbl.object_id and 
22:41:30:885	                                               minor_id = 0 and 
22:41:30:885	                                               class = 1 and 
22:41:30:885	                                               name = N'microsoft_database_tools_support') 
22:41:30:885	                                           is not null then 1
22:41:30:885	                                       else 0
22:41:30:885	                                   end          
22:41:30:885	                                                AS bit)=0 and CAST(ISNULL(tbl.ledger_type, 0) AS int)=3 and CAST(ISNULL(tbl.is_dropped_ledger_table, 0) AS bit)=0)
22:41:30:885	
22:41:35:395	[2025-11-28T22:41:35.3676548+03:00 Begin Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@Name='tempdb']/Table[@IsSystemObject = 0 and @IsFileTable = 0 and @IsMemoryOptimized = 0 and @TemporalType = 0 and @IsExternal = 0 and @IsNode = 0 and @IsEdge = 0 and @LedgerType = 0]
22:41:35:614	[2025-11-28T22:41:35.5832278+03:00 End Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@Name='tempdb']/Table[@IsSystemObject = 0 and @IsFileTable = 0 and @IsMemoryOptimized = 0 and @TemporalType = 0 and @IsExternal = 0 and @IsNode = 0 and @IsEdge = 0 and @LedgerType = 0] 

22:41:35:614	                                   Elapsed time:214,8823 ms 

22:41:35:614	                                   Query: SELECT
22:41:35:614	                                   tbl.name AS [Name],
22:41:35:614	                                   SCHEMA_NAME(tbl.schema_id) AS [Schema],
22:41:35:614	                                   'Server[@Name=' + quotename(CAST(
22:41:35:614	                                           serverproperty(N'Servername')
22:41:35:614	                                          AS sysname),'''') + ']' + '/Database[@Name=' + quotename(db_name(),'''') + ']' + '/Table[@Name=' + quotename(tbl.name,'''') + ' and @Schema=' + quotename(SCHEMA_NAME(tbl.schema_id),'''') + ']' AS [Urn],
22:41:35:614	                                   tbl.create_date AS [CreateDate],
22:41:35:614	                                   CAST(tbl.is_memory_optimized AS bit) AS [IsMemoryOptimized],
22:41:35:614	                                   CAST(CASE idx.type WHEN 5 THEN 1 ELSE 0 END AS bit) AS [HasClusteredColumnStoreIndex],
22:41:35:614	                                   CAST(0 AS bit) AS [RemoteDataArchiveEnabled],
22:41:35:614	                                   tbl.temporal_type AS [TemporalType],
22:41:35:614	                                   CAST(ISNULL(tbl.ledger_type, 0) AS int) AS [LedgerType],
22:41:35:614	                                   CAST(CASE WHEN 'PS'=dsidx.type THEN 1 ELSE 0 END AS bit) AS [IsPartitioned],
22:41:35:614	                                   CAST(
22:41:35:614	                                           ISNULL((SELECT distinct 1 from sys.all_columns
22:41:35:614	                                           WHERE object_id = tbl.object_id
22:41:35:614	                                           AND is_sparse = 1), 0)
22:41:35:614	                                          AS bit) AS [HasSparseColumn],
22:41:35:614	                                   CAST(tbl.is_node AS bit) AS [IsNode],
22:41:35:614	                                   CAST(tbl.is_edge AS bit) AS [IsEdge],
22:41:35:614	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type > 1 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasNonClusteredIndex],
22:41:35:614	                                   CAST(CASE idx.index_id WHEN 1 THEN 1 ELSE 0 END AS bit) AS [HasClusteredIndex],
22:41:35:614	                                   CAST(case idx.index_id when 1 then case when (idx.is_primary_key + 2*idx.is_unique_constraint = 1) then 1 else 0 end else 0 end AS bit) AS [HasPrimaryClusteredIndex],
22:41:35:614	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type = 3 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasXmlIndex],
22:41:35:614	                                   CAST(ISNULL((select top 1 1 from sys.all_columns as clmns join sys.types as usrt on usrt.user_type_id = clmns.user_type_id where clmns.object_id = tbl.object_id and usrt.name = N'xml'), 0) AS bit) AS [HasXmlData],
22:41:35:614	                                   CAST(ISNULL((select top 1 1 from sys.all_columns as clmns join sys.types as usrt on usrt.user_type_id = clmns.user_type_id where clmns.object_id = tbl.object_id and usrt.name in (N'geometry', N'geography')), 0) AS bit) AS [HasSpatialData],
22:41:35:614	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type = 6 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasNonClusteredColumnStoreIndex]
22:41:35:614	                                   FROM
22:41:35:614	                                   sys.tables AS tbl
22:41:35:614	                                   INNER JOIN sys.indexes AS idx ON 
22:41:35:614	                                           idx.object_id = tbl.object_id and (idx.index_id < 2  or (tbl.is_memory_optimized = 1 and idx.index_id = (select min(index_id) from sys.indexes where object_id = tbl.object_id)))
22:41:35:614	                                         
22:41:35:614	                                   LEFT OUTER JOIN sys.data_spaces AS dsidx ON dsidx.data_space_id = idx.data_space_id
22:41:35:614	                                   WHERE
22:41:35:614	                                   (CAST(
22:41:35:614	                                    case 
22:41:35:614	                                       when tbl.is_ms_shipped = 1 then 1
22:41:35:614	                                       when (
22:41:35:614	                                           select 
22:41:35:614	                                               major_id 
22:41:35:614	                                           from 
22:41:35:614	                                               sys.extended_properties 
22:41:35:614	                                           where 
22:41:35:614	                                               major_id = tbl.object_id and 
22:41:35:614	                                               minor_id = 0 and 
22:41:35:614	                                               class = 1 and 
22:41:35:614	                                               name = N'microsoft_database_tools_support') 
22:41:35:614	                                           is not null then 1
22:41:35:614	                                       else 0
22:41:35:614	                                   end          
22:41:35:614	                                                AS bit)=0 and tbl.is_filetable=0 and CAST(tbl.is_memory_optimized AS bit)=0 and tbl.temporal_type=0 and CAST(tbl.is_external AS bit)=0 and CAST(tbl.is_node AS bit)=0 and CAST(tbl.is_edge AS bit)=0 and CAST(ISNULL(tbl.ledger_type, 0) AS int)=0)and(tbl.name not like '#%')
22:41:35:614	
22:41:35:692	[2025-11-28T22:41:35.6610690+03:00 Begin Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@Name='tempdb']/Table[@IsSystemObject = 0 and @IsFileTable = 0 and @IsMemoryOptimized = 0 and @TemporalType = 2 and @IsExternal = 0 and @LedgerType = 0]
22:41:35:891	[2025-11-28T22:41:35.8898063+03:00 End Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@Name='tempdb']/Table[@IsSystemObject = 0 and @IsFileTable = 0 and @IsMemoryOptimized = 0 and @TemporalType = 2 and @IsExternal = 0 and @LedgerType = 0] 

22:41:35:891	                                   Elapsed time:227,5631 ms 

22:41:35:891	                                   Query: SELECT
22:41:35:891	                                   tbl.name AS [Name],
22:41:35:891	                                   SCHEMA_NAME(tbl.schema_id) AS [Schema],
22:41:35:891	                                   'Server[@Name=' + quotename(CAST(
22:41:35:891	                                           serverproperty(N'Servername')
22:41:35:891	                                          AS sysname),'''') + ']' + '/Database[@Name=' + quotename(db_name(),'''') + ']' + '/Table[@Name=' + quotename(tbl.name,'''') + ' and @Schema=' + quotename(SCHEMA_NAME(tbl.schema_id),'''') + ']' AS [Urn],
22:41:35:891	                                   tbl.create_date AS [CreateDate],
22:41:35:891	                                   CAST(tbl.is_memory_optimized AS bit) AS [IsMemoryOptimized],
22:41:35:891	                                   CAST(CASE idx.type WHEN 5 THEN 1 ELSE 0 END AS bit) AS [HasClusteredColumnStoreIndex],
22:41:35:891	                                   CAST(ISNULL(historyTable.object_id, 0) AS int) AS [HistoryTableID],
22:41:35:891	                                   CAST(ISNULL(historyTable.name, N'') AS sysname) AS [HistoryTableName],
22:41:35:891	                                   CAST(ISNULL(SCHEMA_NAME(historyTable.schema_id), N'') AS sysname) AS [HistoryTableSchema],
22:41:35:891	                                   tbl.temporal_type AS [TemporalType],
22:41:35:891	                                   CAST(CASE WHEN 'PS'=dsidx.type THEN 1 ELSE 0 END AS bit) AS [IsPartitioned],
22:41:35:891	                                   CAST(
22:41:35:891	                                           ISNULL((SELECT distinct 1 from sys.all_columns
22:41:35:891	                                           WHERE object_id = tbl.object_id
22:41:35:891	                                           AND is_sparse = 1), 0)
22:41:35:891	                                          AS bit) AS [HasSparseColumn],
22:41:35:891	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type > 1 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasNonClusteredIndex],
22:41:35:891	                                   CAST(CASE idx.index_id WHEN 1 THEN 1 ELSE 0 END AS bit) AS [HasClusteredIndex],
22:41:35:891	                                   CAST(case idx.index_id when 1 then case when (idx.is_primary_key + 2*idx.is_unique_constraint = 1) then 1 else 0 end else 0 end AS bit) AS [HasPrimaryClusteredIndex],
22:41:35:891	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type = 3 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasXmlIndex],
22:41:35:891	                                   CAST(ISNULL((select top 1 1 from sys.all_columns as clmns join sys.types as usrt on usrt.user_type_id = clmns.user_type_id where clmns.object_id = tbl.object_id and usrt.name = N'xml'), 0) AS bit) AS [HasXmlData],
22:41:35:891	                                   CAST(ISNULL((select top 1 1 from sys.all_columns as clmns join sys.types as usrt on usrt.user_type_id = clmns.user_type_id where clmns.object_id = tbl.object_id and usrt.name in (N'geometry', N'geography')), 0) AS bit) AS [HasSpatialData],
22:41:35:891	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type = 6 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasNonClusteredColumnStoreIndex]
22:41:35:891	                                   FROM
22:41:35:891	                                   sys.tables AS tbl
22:41:35:891	                                   INNER JOIN sys.indexes AS idx ON 
22:41:35:891	                                           idx.object_id = tbl.object_id and (idx.index_id < 2  or (tbl.is_memory_optimized = 1 and idx.index_id = (select min(index_id) from sys.indexes where object_id = tbl.object_id)))
22:41:35:891	                                         
22:41:35:891	                                   LEFT OUTER JOIN sys.tables as historyTable ON historyTable.object_id = tbl.history_table_id
22:41:35:891	                                   LEFT OUTER JOIN sys.data_spaces AS dsidx ON dsidx.data_space_id = idx.data_space_id
22:41:35:891	                                   WHERE
22:41:35:891	                                   (CAST(
22:41:35:891	                                    case 
22:41:35:891	                                       when tbl.is_ms_shipped = 1 then 1
22:41:35:891	                                       when (
22:41:35:891	                                           select 
22:41:35:891	                                               major_id 
22:41:35:891	                                           from 
22:41:35:891	                                               sys.extended_properties 
22:41:35:891	                                           where 
22:41:35:891	                                               major_id = tbl.object_id and 
22:41:35:891	                                               minor_id = 0 and 
22:41:35:891	                                               class = 1 and 
22:41:35:891	                                               name = N'microsoft_database_tools_support') 
22:41:35:891	                                           is not null then 1
22:41:35:891	                                       else 0
22:41:35:891	                                   end          
22:41:35:891	                                                AS bit)=0 and tbl.is_filetable=0 and CAST(tbl.is_memory_optimized AS bit)=0 and tbl.temporal_type=2 and CAST(tbl.is_external AS bit)=0 and CAST(ISNULL(tbl.ledger_type, 0) AS int)=0)and(tbl.name not like '#%')
22:41:35:891	
22:41:35:956	[2025-11-28T22:41:35.9421932+03:00 Begin Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@Name='tempdb']/Table[@IsSystemObject = 0 and @IsFileTable = 0 and @IsMemoryOptimized = 1 and @TemporalType = 2 and @IsExternal = 0]
22:41:36:144	[2025-11-28T22:41:36.1272897+03:00 End Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@Name='tempdb']/Table[@IsSystemObject = 0 and @IsFileTable = 0 and @IsMemoryOptimized = 1 and @TemporalType = 2 and @IsExternal = 0] 

22:41:36:144	                                   Elapsed time:183,6003 ms 

22:41:36:144	                                   Query: SELECT
22:41:36:144	                                   tbl.name AS [Name],
22:41:36:144	                                   SCHEMA_NAME(tbl.schema_id) AS [Schema],
22:41:36:144	                                   'Server[@Name=' + quotename(CAST(
22:41:36:144	                                           serverproperty(N'Servername')
22:41:36:144	                                          AS sysname),'''') + ']' + '/Database[@Name=' + quotename(db_name(),'''') + ']' + '/Table[@Name=' + quotename(tbl.name,'''') + ' and @Schema=' + quotename(SCHEMA_NAME(tbl.schema_id),'''') + ']' AS [Urn],
22:41:36:144	                                   tbl.create_date AS [CreateDate],
22:41:36:144	                                   CAST(tbl.is_memory_optimized AS bit) AS [IsMemoryOptimized],
22:41:36:144	                                   case when (tbl.durability=1) then 0 else 1 end AS [Durability],
22:41:36:144	                                   CAST(ISNULL(historyTable.object_id, 0) AS int) AS [HistoryTableID],
22:41:36:144	                                   CAST(ISNULL(historyTable.name, N'') AS sysname) AS [HistoryTableName],
22:41:36:144	                                   CAST(ISNULL(SCHEMA_NAME(historyTable.schema_id), N'') AS sysname) AS [HistoryTableSchema],
22:41:36:144	                                   tbl.temporal_type AS [TemporalType],
22:41:36:144	                                   CAST(0 AS bit) AS [RemoteDataArchiveEnabled],
22:41:36:144	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type > 1 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasNonClusteredIndex],
22:41:36:144	                                   CAST(CASE idx.index_id WHEN 1 THEN 1 ELSE 0 END AS bit) AS [HasClusteredIndex],
22:41:36:144	                                   CAST(case idx.index_id when 1 then case when (idx.is_primary_key + 2*idx.is_unique_constraint = 1) then 1 else 0 end else 0 end AS bit) AS [HasPrimaryClusteredIndex],
22:41:36:144	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type = 3 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasXmlIndex],
22:41:36:144	                                   CAST(ISNULL((select top 1 1 from sys.all_columns as clmns join sys.types as usrt on usrt.user_type_id = clmns.user_type_id where clmns.object_id = tbl.object_id and usrt.name = N'xml'), 0) AS bit) AS [HasXmlData],
22:41:36:144	                                   CAST(ISNULL((select top 1 1 from sys.all_columns as clmns join sys.types as usrt on usrt.user_type_id = clmns.user_type_id where clmns.object_id = tbl.object_id and usrt.name in (N'geometry', N'geography')), 0) AS bit) AS [HasSpatialData],
22:41:36:144	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type = 6 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasNonClusteredColumnStoreIndex]
22:41:36:144	                                   FROM
22:41:36:144	                                   sys.tables AS tbl
22:41:36:144	                                   LEFT OUTER JOIN sys.tables as historyTable ON historyTable.object_id = tbl.history_table_id
22:41:36:144	                                   INNER JOIN sys.indexes AS idx ON 
22:41:36:144	                                           idx.object_id = tbl.object_id and (idx.index_id < 2  or (tbl.is_memory_optimized = 1 and idx.index_id = (select min(index_id) from sys.indexes where object_id = tbl.object_id)))
22:41:36:144	                                         
22:41:36:144	                                   WHERE
22:41:36:144	                                   (CAST(
22:41:36:144	                                    case 
22:41:36:144	                                       when tbl.is_ms_shipped = 1 then 1
22:41:36:144	                                       when (
22:41:36:144	                                           select 
22:41:36:144	                                               major_id 
22:41:36:144	                                           from 
22:41:36:144	                                               sys.extended_properties 
22:41:36:144	                                           where 
22:41:36:144	                                               major_id = tbl.object_id and 
22:41:36:144	                                               minor_id = 0 and 
22:41:36:144	                                               class = 1 and 
22:41:36:144	                                               name = N'microsoft_database_tools_support') 
22:41:36:144	                                           is not null then 1
22:41:36:144	                                       else 0
22:41:36:144	                                   end          
22:41:36:144	                                                AS bit)=0 and tbl.is_filetable=0 and CAST(tbl.is_memory_optimized AS bit)=1 and tbl.temporal_type=2 and CAST(tbl.is_external AS bit)=0)and(tbl.name not like '#%')
22:41:36:144	
22:41:36:206	[2025-11-28T22:41:36.1706306+03:00 Begin Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@Name='tempdb']/Table[@IsSystemObject = 0 and @IsFileTable = 0 and @IsMemoryOptimized = 1 and @TemporalType = 0 and @IsExternal = 0]
22:41:36:430	[2025-11-28T22:41:36.4011507+03:00 End Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@Name='tempdb']/Table[@IsSystemObject = 0 and @IsFileTable = 0 and @IsMemoryOptimized = 1 and @TemporalType = 0 and @IsExternal = 0] 

22:41:36:430	                                   Elapsed time:229,2396 ms 

22:41:36:430	                                   Query: SELECT
22:41:36:430	                                   tbl.name AS [Name],
22:41:36:430	                                   SCHEMA_NAME(tbl.schema_id) AS [Schema],
22:41:36:430	                                   'Server[@Name=' + quotename(CAST(
22:41:36:430	                                           serverproperty(N'Servername')
22:41:36:430	                                          AS sysname),'''') + ']' + '/Database[@Name=' + quotename(db_name(),'''') + ']' + '/Table[@Name=' + quotename(tbl.name,'''') + ' and @Schema=' + quotename(SCHEMA_NAME(tbl.schema_id),'''') + ']' AS [Urn],
22:41:36:430	                                   tbl.create_date AS [CreateDate],
22:41:36:430	                                   CAST(tbl.is_memory_optimized AS bit) AS [IsMemoryOptimized],
22:41:36:430	                                   case when (tbl.durability=1) then 0 else 1 end AS [Durability],
22:41:36:430	                                   tbl.temporal_type AS [TemporalType],
22:41:36:430	                                   CAST(0 AS bit) AS [RemoteDataArchiveEnabled],
22:41:36:430	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type > 1 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasNonClusteredIndex],
22:41:36:430	                                   CAST(CASE idx.index_id WHEN 1 THEN 1 ELSE 0 END AS bit) AS [HasClusteredIndex],
22:41:36:430	                                   CAST(case idx.index_id when 1 then case when (idx.is_primary_key + 2*idx.is_unique_constraint = 1) then 1 else 0 end else 0 end AS bit) AS [HasPrimaryClusteredIndex],
22:41:36:430	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type = 3 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasXmlIndex],
22:41:36:430	                                   CAST(ISNULL((select top 1 1 from sys.all_columns as clmns join sys.types as usrt on usrt.user_type_id = clmns.user_type_id where clmns.object_id = tbl.object_id and usrt.name = N'xml'), 0) AS bit) AS [HasXmlData],
22:41:36:430	                                   CAST(ISNULL((select top 1 1 from sys.all_columns as clmns join sys.types as usrt on usrt.user_type_id = clmns.user_type_id where clmns.object_id = tbl.object_id and usrt.name in (N'geometry', N'geography')), 0) AS bit) AS [HasSpatialData],
22:41:36:430	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type = 6 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasNonClusteredColumnStoreIndex]
22:41:36:430	                                   FROM
22:41:36:430	                                   sys.tables AS tbl
22:41:36:430	                                   INNER JOIN sys.indexes AS idx ON 
22:41:36:430	                                           idx.object_id = tbl.object_id and (idx.index_id < 2  or (tbl.is_memory_optimized = 1 and idx.index_id = (select min(index_id) from sys.indexes where object_id = tbl.object_id)))
22:41:36:430	                                         
22:41:36:430	                                   WHERE
22:41:36:430	                                   (CAST(
22:41:36:430	                                    case 
22:41:36:430	                                       when tbl.is_ms_shipped = 1 then 1
22:41:36:430	                                       when (
22:41:36:430	                                           select 
22:41:36:430	                                               major_id 
22:41:36:430	                                           from 
22:41:36:430	                                               sys.extended_properties 
22:41:36:430	                                           where 
22:41:36:430	                                               major_id = tbl.object_id and 
22:41:36:430	                                               minor_id = 0 and 
22:41:36:430	                                               class = 1 and 
22:41:36:430	                                               name = N'microsoft_database_tools_support') 
22:41:36:430	                                           is not null then 1
22:41:36:430	                                       else 0
22:41:36:430	                                   end          
22:41:36:430	                                                AS bit)=0 and tbl.is_filetable=0 and CAST(tbl.is_memory_optimized AS bit)=1 and tbl.temporal_type=0 and CAST(tbl.is_external AS bit)=0)and(tbl.name not like '#%')
22:41:36:430	
22:41:36:442	[2025-11-28T22:41:36.4409252+03:00 Begin Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@Name='tempdb']/Table[@IsSystemObject = 0 and @LedgerType = 2 and @IsDroppedLedgerTable = 0]
22:41:36:679	[2025-11-28T22:41:36.6256953+03:00 End Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@Name='tempdb']/Table[@IsSystemObject = 0 and @LedgerType = 2 and @IsDroppedLedgerTable = 0] 

22:41:36:679	                                   Elapsed time:183,5319 ms 

22:41:36:679	                                   Query: SELECT
22:41:36:679	                                   tbl.name AS [Name],
22:41:36:679	                                   SCHEMA_NAME(tbl.schema_id) AS [Schema],
22:41:36:679	                                   'Server[@Name=' + quotename(CAST(
22:41:36:679	                                           serverproperty(N'Servername')
22:41:36:679	                                          AS sysname),'''') + ']' + '/Database[@Name=' + quotename(db_name(),'''') + ']' + '/Table[@Name=' + quotename(tbl.name,'''') + ' and @Schema=' + quotename(SCHEMA_NAME(tbl.schema_id),'''') + ']' AS [Urn],
22:41:36:679	                                   tbl.create_date AS [CreateDate],
22:41:36:679	                                   CAST(tbl.is_memory_optimized AS bit) AS [IsMemoryOptimized],
22:41:36:679	                                   CAST(CASE idx.type WHEN 5 THEN 1 ELSE 0 END AS bit) AS [HasClusteredColumnStoreIndex],
22:41:36:679	                                   CAST(ISNULL(historyTable.object_id, 0) AS int) AS [HistoryTableID],
22:41:36:679	                                   CAST(ISNULL(historyTable.name, N'') AS sysname) AS [HistoryTableName],
22:41:36:679	                                   CAST(ISNULL(SCHEMA_NAME(historyTable.schema_id), N'') AS sysname) AS [HistoryTableSchema],
22:41:36:679	                                   tbl.temporal_type AS [TemporalType],
22:41:36:679	                                   CAST(ISNULL(tbl.ledger_type, 0) AS int) AS [LedgerType],
22:41:36:679	                                   CAST(ISNULL(tbl.is_dropped_ledger_table, 0) AS bit) AS [IsDroppedLedgerTable],
22:41:36:679	                                   CAST(CASE WHEN 'PS'=dsidx.type THEN 1 ELSE 0 END AS bit) AS [IsPartitioned],
22:41:36:679	                                   CAST(
22:41:36:679	                                           ISNULL((SELECT distinct 1 from sys.all_columns
22:41:36:679	                                           WHERE object_id = tbl.object_id
22:41:36:679	                                           AND is_sparse = 1), 0)
22:41:36:679	                                          AS bit) AS [HasSparseColumn],
22:41:36:679	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type > 1 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasNonClusteredIndex],
22:41:36:679	                                   CAST(CASE idx.index_id WHEN 1 THEN 1 ELSE 0 END AS bit) AS [HasClusteredIndex],
22:41:36:679	                                   CAST(case idx.index_id when 1 then case when (idx.is_primary_key + 2*idx.is_unique_constraint = 1) then 1 else 0 end else 0 end AS bit) AS [HasPrimaryClusteredIndex],
22:41:36:679	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type = 3 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasXmlIndex],
22:41:36:679	                                   CAST(ISNULL((select top 1 1 from sys.all_columns as clmns join sys.types as usrt on usrt.user_type_id = clmns.user_type_id where clmns.object_id = tbl.object_id and usrt.name = N'xml'), 0) AS bit) AS [HasXmlData],
22:41:36:679	                                   CAST(ISNULL((select top 1 1 from sys.all_columns as clmns join sys.types as usrt on usrt.user_type_id = clmns.user_type_id where clmns.object_id = tbl.object_id and usrt.name in (N'geometry', N'geography')), 0) AS bit) AS [HasSpatialData],
22:41:36:679	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type = 6 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasNonClusteredColumnStoreIndex]
22:41:36:679	                                   FROM
22:41:36:679	                                   sys.tables AS tbl
22:41:36:679	                                   INNER JOIN sys.indexes AS idx ON 
22:41:36:679	                                           idx.object_id = tbl.object_id and (idx.index_id < 2  or (tbl.is_memory_optimized = 1 and idx.index_id = (select min(index_id) from sys.indexes where object_id = tbl.object_id)))
22:41:36:679	                                         
22:41:36:679	                                   LEFT OUTER JOIN sys.tables as historyTable ON historyTable.object_id = tbl.history_table_id
22:41:36:679	                                   LEFT OUTER JOIN sys.data_spaces AS dsidx ON dsidx.data_space_id = idx.data_space_id
22:41:36:679	                                   WHERE
22:41:36:679	                                   (CAST(
22:41:36:679	                                    case 
22:41:36:679	                                       when tbl.is_ms_shipped = 1 then 1
22:41:36:679	                                       when (
22:41:36:679	                                           select 
22:41:36:679	                                               major_id 
22:41:36:679	                                           from 
22:41:36:679	                                               sys.extended_properties 
22:41:36:679	                                           where 
22:41:36:679	                                               major_id = tbl.object_id and 
22:41:36:679	                                               minor_id = 0 and 
22:41:36:679	                                               class = 1 and 
22:41:36:679	                                               name = N'microsoft_database_tools_support') 
22:41:36:679	                                           is not null then 1
22:41:36:679	                                       else 0
22:41:36:679	                                   end          
22:41:36:679	                                                AS bit)=0 and CAST(ISNULL(tbl.ledger_type, 0) AS int)=2 and CAST(ISNULL(tbl.is_dropped_ledger_table, 0) AS bit)=0)and(tbl.name not like '#%')
22:41:36:679	
22:41:36:739	[2025-11-28T22:41:36.6766859+03:00 Begin Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@Name='tempdb']/Table[@IsSystemObject = 0 and @LedgerType = 3 and @IsDroppedLedgerTable = 0]
22:41:36:915	[2025-11-28T22:41:36.9144971+03:00 End Query] URN:Server[@Name='SUNRISE\EXPO']/Database[@Name='tempdb']/Table[@IsSystemObject = 0 and @LedgerType = 3 and @IsDroppedLedgerTable = 0] 

22:41:36:915	                                   Elapsed time:235,9466 ms 

22:41:36:915	                                   Query: SELECT
22:41:36:915	                                   tbl.name AS [Name],
22:41:36:915	                                   SCHEMA_NAME(tbl.schema_id) AS [Schema],
22:41:36:915	                                   'Server[@Name=' + quotename(CAST(
22:41:36:915	                                           serverproperty(N'Servername')
22:41:36:915	                                          AS sysname),'''') + ']' + '/Database[@Name=' + quotename(db_name(),'''') + ']' + '/Table[@Name=' + quotename(tbl.name,'''') + ' and @Schema=' + quotename(SCHEMA_NAME(tbl.schema_id),'''') + ']' AS [Urn],
22:41:36:915	                                   tbl.create_date AS [CreateDate],
22:41:36:915	                                   CAST(tbl.is_memory_optimized AS bit) AS [IsMemoryOptimized],
22:41:36:915	                                   CAST(CASE idx.type WHEN 5 THEN 1 ELSE 0 END AS bit) AS [HasClusteredColumnStoreIndex],
22:41:36:915	                                   CAST(ISNULL(tbl.ledger_type, 0) AS int) AS [LedgerType],
22:41:36:915	                                   CAST(ISNULL(tbl.is_dropped_ledger_table, 0) AS bit) AS [IsDroppedLedgerTable],
22:41:36:915	                                   CAST(CASE WHEN 'PS'=dsidx.type THEN 1 ELSE 0 END AS bit) AS [IsPartitioned],
22:41:36:915	                                   CAST(
22:41:36:915	                                           ISNULL((SELECT distinct 1 from sys.all_columns
22:41:36:915	                                           WHERE object_id = tbl.object_id
22:41:36:915	                                           AND is_sparse = 1), 0)
22:41:36:915	                                          AS bit) AS [HasSparseColumn],
22:41:36:915	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type > 1 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasNonClusteredIndex],
22:41:36:915	                                   CAST(CASE idx.index_id WHEN 1 THEN 1 ELSE 0 END AS bit) AS [HasClusteredIndex],
22:41:36:915	                                   CAST(case idx.index_id when 1 then case when (idx.is_primary_key + 2*idx.is_unique_constraint = 1) then 1 else 0 end else 0 end AS bit) AS [HasPrimaryClusteredIndex],
22:41:36:915	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type = 3 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasXmlIndex],
22:41:36:915	                                   CAST(ISNULL((select top 1 1 from sys.all_columns as clmns join sys.types as usrt on usrt.user_type_id = clmns.user_type_id where clmns.object_id = tbl.object_id and usrt.name = N'xml'), 0) AS bit) AS [HasXmlData],
22:41:36:915	                                   CAST(ISNULL((select top 1 1 from sys.all_columns as clmns join sys.types as usrt on usrt.user_type_id = clmns.user_type_id where clmns.object_id = tbl.object_id and usrt.name in (N'geometry', N'geography')), 0) AS bit) AS [HasSpatialData],
22:41:36:915	                                   CAST(ISNULL((select top 1 1 from sys.indexes ind where ind.object_id = tbl.object_id and ind.type = 6 and ind.is_hypothetical = 0 ), 0) AS bit) AS [HasNonClusteredColumnStoreIndex]
22:41:36:915	                                   FROM
22:41:36:915	                                   sys.tables AS tbl
22:41:36:915	                                   INNER JOIN sys.indexes AS idx ON 
22:41:36:915	                                           idx.object_id = tbl.object_id and (idx.index_id < 2  or (tbl.is_memory_optimized = 1 and idx.index_id = (select min(index_id) from sys.indexes where object_id = tbl.object_id)))
22:41:36:915	                                         
22:41:36:915	                                   LEFT OUTER JOIN sys.data_spaces AS dsidx ON dsidx.data_space_id = idx.data_space_id
22:41:36:915	                                   WHERE
22:41:36:915	                                   (CAST(
22:41:36:915	                                    case 
22:41:36:915	                                       when tbl.is_ms_shipped = 1 then 1
22:41:36:915	                                       when (
22:41:36:915	                                           select 
22:41:36:915	                                               major_id 
22:41:36:915	                                           from 
22:41:36:915	                                               sys.extended_properties 
22:41:36:915	                                           where 
22:41:36:915	                                               major_id = tbl.object_id and 
22:41:36:915	                                               minor_id = 0 and 
22:41:36:915	                                               class = 1 and 
22:41:36:915	                                               name = N'microsoft_database_tools_support') 
22:41:36:915	                                           is not null then 1
22:41:36:915	                                       else 0
22:41:36:915	                                   end          
22:41:36:915	                                                AS bit)=0 and CAST(ISNULL(tbl.ledger_type, 0) AS int)=3 and CAST(ISNULL(tbl.is_dropped_ledger_table, 0) AS bit)=0)and(tbl.name not like '#%')
22:41:36:915	
